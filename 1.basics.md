#Theme Basics

In this section, you’ll build on that theme by adding new features to your theme and learning how to build a theme properly. You’ll begin by looking at how you can break theme files and templates down into smaller, reusable pieces. Then, you’ll learn how to keep your files organized within your theme.

You’ll also look at **The Loop**, which is responsible for pulling content out of the WordPress database.

Finally, you’ll learn more about adding features to your theme by **using theme functions**, **including CSS & JavaScript**, and leveraging **conditional tags** to only show content you need.

##Template Files

Template files are used throughout WordPress themes, but first let’s learn about the terminology.

###Template Terminology

The term “template” is used in different ways when working with WordPress themes:

- Templates are the files within your [WordPress Theme](http://codex.wordpress.org/Using_Themes) that control how your site is displayed in the browser. This page discusses templates, generally.
- Page Templates are a type of template that are applied only to pages to change their look and feel.  A page template can be applied to a single page, a page section, or a class of pages.
- Template Tags are built-in WordPress functions you can use inside a template file to retrieve and display data (such as [the_title()](https://developer.wordpress.org/reference/hooks/the_title/) and [the_content()](https://developer.wordpress.org/reference/hooks/the_content/)).
- Template Hierarchy is the logic WordPress uses to decide which theme template file(s) to use, depending on the content being requested.

###Template files

WordPress themes are made up of template files. These are PHP files that contain a mixture of HTML, **WordPress Template Tags**, and PHP.

When you are building your theme, you will use template files to affect the layout and design of different parts of your website. For example, you would use the `header.php` template to create a header, or the `comments.php` template to include comments.

When someone visits a page on your website, WordPress generates the page based on the template files that are included in your theme. Next, the server parses the PHP in the required templates and returns HTML to the visitor’s web browser, which renders the page.

As mentioned previously in What is a Theme?, the most critical template file is `index.php`, but you’ll often find other templates in a theme such as:

- `header.php` for generating the site’s header
- `footer.php` for generating the footer
- `sidebar.php` for generating the sidebar
While the above PHP template files apply to one section of a page, templates are also used to control how different types of content are displayed on your website, as described on page discussing page templates.

###Why use separate template files?

One of the principles of good development is to not repeat yourself. For example, if you have three different files that all use the same header, any change in the header will require a change in all three files. Not only does this get tedious, but it is prone to error.

As a theme continues to grow in complexity, its `index.php` file can become difficult to manage. In addition, a single large template file may increase load times in the browser, slowing down your site.

With template files, your website is broken down into logical, reusable chunks. This means you only have to maintain one file for each component of your website, and ensures a better experience for site visitors.

###Tutorial: Create Template Files for Your Theme

Now it’s time to add some more standards files to the theme that you started in Your First Theme.  While many themes have around 30+ files, you’ll start by adding just 5 new files to your theme. Right now your theme should have `index.php` and `style.css`.

You’re going to create the following files.  Most are self-explanatory from their name alone. This section will only cover creating the files, you’ll find out more about how the code works in later sections.

- `header.php` – generates the header(s) for all your theme’s pages
- `footer.php` – generates the footer(s) for all your theme’s pages
- `page.php` – generates a static page
- `home.php` – generates your main blog posts page
- `single.php` – generates a single blog post

The tutorial follows these broad steps:

1. Breaking the code contained in `index.php` into modular parts (i.e. the header and footer)
2. Using a template tag in `index.php` to include these modular parts
3. Duplicating your `index.php` file to use as the basis for other parts of your theme (your homepage, single post, and static page)

####Header.php

1. Open the theme folder you created in Your First Theme in `wp-content/themes/my-first-theme`.
2. Create a new file called header.php.
3. Open the index.php file and cut out the following code. It’s important that you cut the code, don’t just copy it, as you’re going to place it in the new file.

```php
<!DOCTYPE html>
<html>
 <head>
     <meta charset="<?php bloginfo( 'charset' ); ?>">
     <title><?php wp_title( '|', true, 'right' ); ?></title>
     <link rel="stylesheet" href="<?php echo esc_url( get_stylesheet_uri() ); ?>" type="text/css" />
     <?php wp_head(); ?>
 </head>
 <body>
     <h1><?php bloginfo( 'name' ); ?></h1>
     <h2><?php bloginfo( 'description' ); ?></h2>
 ```
4. Paste the code into `header.php` file. Save both files.

####Footer.php

1. Create a `footer.php` file.
2. Cut out the following code from your index.php file:

```php
    <?php wp_footer(); ?>
    </body>
</html>
```
3. Paste the code into your footer.php file. Save both files.

####Update Index.php

Now that you’ve pulled out the header and footer sections of code from your `index.php` file you need to add 2 codes snippets for your `index.php` file to include the `header.php` and `footer.php` files.

1. Add this to the very top of your index.php file.

```php
<?php get_header(); ?>
```
2. Add this to the very bottom of the file.

```php
<?php get_footer(); ?>
```

These two snippets of code are examples of template tags which you can read more about later.

####Page.php, Home.php, & Single.php

Finally, open your `index.php` file and “save as” `page.php`, repeat to create `home.php` and `single.php`.

>**Note**: Even though `index.php`, `page.php`, `home.php` and `single.php` all are identical code right now, `page.php`, `home.php`, and `single.php` will render pages differently just by the way WordPress interprets the type of template file that they are.

You’ll eventually tweak each of theses files to make them unique.

###Common WordPress template files

Below is a list of some basic theme templates and files recognized by WordPress. Of course, your theme may contain any stylesheets, images, and files.

Keep in mind that the following files have special meaning to WordPress – see the article on the template hierarchy for more information.

- `index.php` The main template file. It is **required** in all themes.
- `style.css` The main stylesheet. It is **required** in all themes and contains the information header for your theme.
- `rtl.css` The right-to-left stylesheet is included automatically if the website language’s text direction is right-to-left.
- `comments.php` The comments template.
- `front-page.php` The front page template is only used if you use a static front page, which is set in WordPress under `Admin > Settings > Reading`.
- `home.php` The home page template is the front page by default. If you do not set WordPress to use a static front page, this template is used to show latest posts.
- `header.php` The header template file usually contains your site’s document type, meta information, links to stylesheets and scripts, and other data.
- `single.php` The single post template is used when a visitor requests a single post. For this, and all other query templates, `index.php` is used if the query template is not present.
- `single-{post-type}.php` The single post template used when a visitor requests a single post from a custom post type. For example, `single-book.php` would be used for displaying single posts from a custom post type named book. The `index.php` is used if a specific query template for the custom post type is not present.
- `archive-{post-type}.php` The archive post type template is used when visitors request a custom post type archive. For example, `archive-books.php` would be used for displaying an archive of posts from the custom post type named books. The archive.php template file is used if the `archive-{post-type}.php` is not present.
- `page.php` The page template is used when visitors request individual pages, which are a built-in template.
- `page-{slug}.php` The page slug template is used when visitors request a specific page, for example one with the “about” slug (page-about.php).
- `category.php` The category template is used when visitors request posts by category.
- `tag.php` The tag template is used when visitors request posts by tag.
- `taxonomy.php` The taxonomy term template is used when a visitor requests a term in a custom taxonomy.
- `author.php` The author page template is used whenever a visitor loads an author page.
- `date.php` The date/time template is used when posts are requested by date or time. For example, the pages generated with these slugs:`http://example.com/blog/2014/, http://example.com/blog/2014/05/, http://example.com/blog/2014/05/26/`
```
- `archive.php` The archive template is used when visitors request posts by category, author, or date. **Note**: this template will be overridden if more specific templates are present like `category.php`, `author.php`, and `date.php`.
- `search.php` The search results template is used to display a visitor’s search results.
- `attachment.php` The attachment template is used when viewing a single attachment like an image, pdf, or other media file.
- `image.php` The image attachment template is a more specific version of `attachment.php` and is used when viewing a single image attachment. If not present, WordPress will use `attachment.php` instead.
- `404.php` The 404 template is used when WordPress cannot find a post, page, or other content that matches the visitor’s request.

###Using template files

Within WordPress templates, you can use Template Tags to display information dynamically, include other template files, or otherwise customize your site.

For example, in your `index.php` you can include other files in your final generated page:

- To include the header, use [get_header()](http://developer.wordpress.org/reference/functions/get_header/)
- To include the sidebar, use [get_sidebar()](http://developer.wordpress.org/reference/functions/get_sidebar/)
- To include the footer, use [get_footer()](http://developer.wordpress.org/reference/functions/get_footer/)
- To include the search form, use [get_search_form()](http://developer.wordpress.org/reference/functions/get_search_form/)
- To include custom theme files, use [get_template_part()](http://developer.wordpress.org/reference/functions/get_template_part/)

Here is an example of WordPress template tags to include specific templates into your page:

```php
<?php get_sidebar(); ?>
<?php get_template_part( 'featured-content' ); ?>
<?php get_footer(); ?>
```

There’s an entire page on Template Tags that you can dive into to learn all about them.

##Theme Files & Organization

While WordPress themes technically only require two files (`index.php` and `style.css`), they usually are made up of many files. That means they can quickly become disorganized! This section will show you how to keep your files organized.

###Theme folder and file structure

As mentioned previously, the default Twenty themes are some of the best examples of good theme development. For instance, here is how the [Twenty Twelve theme](https://wordpress.org/themes/twentytwelve/) organizes its [file structure](https://core.trac.wordpress.org/browser/trunk/src/wp-content/themes/twentytwelve):

```
css (dir)
inc (dir)
js (dir)
languages (dir)
page-templates (dir)
404.php
archive.php
author.php
category.php
comments.php
content.php
content-aside.php
content-image.php
content-link.php
content-none.php
content-page.php
content-quote.php
content-status.php
editor-style-rtl.css
editor-style.css
footer.php
functions.php
header.php
image.php
index.php
page.php
rtl.css
screenshot.png
search.php
sidebar.php
sidebar-front.php
single.php
style.css
tag.php
```

You can see that the main theme template files are in the root directory, while JavaScript, languages, CSS, and page template files are placed in their own folders.

At this time there are **no required folders within a WordPress theme**. However, WordPress does recognize the following folders by default.

###Page templates folder

Custom page templates have their own directory, `page-templates`, which allows for better organization of page template files. Custom page templates are page templates that can be applied to individual pages to change their design and layout (more on those later!) Custom page templates in this folder are automatically recognized by WordPress.

###Languages folder

It’s best practice to internationalize your theme so it can be translated into other languages. Default themes include the `languages` folder, which contains a .pot file for translation and any translated .mo files. While `languages` is the default name of this folder, you can change the name. If you do so, you must update [load_theme_textdomain()](https://developer.wordpress.org/reference/functions/load_theme_textdomain/).


##Template Hierarchy

As discussed, template files are modular, reusable files, used to generate the web pages on your WordPress site. Some template files (such as the header and footer template) are used on all of your site’s pages, while others are used only under specific conditions.

This article explains **how WordPress determines which template file(s) to use on individual pages**. If you want to customize an existing WordPress theme it will help you decide which template file needs to be edited.

>**Tip**: Tou can also use Conditional Tags to control which templates are loaded on a specific page.

###The Template File Hierarchy

####Overview

WordPress uses the [query string](http://codex.wordpress.org/Glossary#Query_String) to decide which template or set of templates should be used to display the page. The query string is information that is contained in the link to each part of your website. It comes after the initial question mark and may contain a number of parameters separated by ampersands.

Put simply, WordPress searches down through the template hierarchy until it finds a matching template file. To determine which template file to use, WordPress:

- Matches every query string to a query type to decide which page is being requested (for example, a search page, a category page, etc);
- Selects the template in the order determined by the template hierarchy;
- Looks for template files with specific names in the current theme’s directory and uses the **first matching template file** as specified by the hierarchy.

With the exception of the basic `index.php` template file, you can choose whether you want to implement a particular template file or not.

If WordPress cannot find a template file with a matching name, it will skip to the next file in the hierarchy. If WordPress cannot find any matching template file, the theme’s index.php file will be used.

####Examples

If your blog is at `http://example.com/blog/` and a visitor clicks on a link to a category page such as `http://example.com/blog/category/your-cat/`, WordPress looks for a template file in the current theme’s directory that matches the category’s ID to generate the correct page. More specifically, WordPress follows this procedure:

1. Looks for a template file in the current theme’s directory that matches the category’s slug. If the category slug is “unicorns,” then WordPress looks for a template file named `category-unicorns.php`.
2. If `category-unicorns.php` is missing and the category’s ID is 4, WordPress looks for a template file named `category-4.php`.
3. If `category-4.php` is missing, WordPress will look for a generic category template file, `category.php`.
4. If `category.php` does not exist, WordPress will look for a generic archive template, `archive.php`.
5. If `archive.php` is also missing, WordPress will fall back to the main theme template file, `index.php`.

####Visual Overview

The following diagram shows which template files are called to generate a WordPress page based on the WordPress template hierarchy.
![Template Hierarchy Chart](http://developer.wordpress.org/files/2014/10/wp-template-hierarchy-1024x640.jpg)

You can also [interact with this diagram](http://wphierarchy.com/).

###Tutorial: The Template Hierarchy in Practice

Let’s tweak the files you made earlier in Template Files so you can see the hierarchy in practice.

1. Open your theme folder in wp-content/themes/my-first-theme.

You should have these files in your folder:

- `footer.php`
- `header.php`
- `home.php`
- `index.php`
- `page.php`
- `single.php`
- `style.css`

2. Open your `index.php`, `home.php`, `page.php`, and `single.php` files.  Right above this line of code:

```php
<?php if ( have_posts() ) : while ( have_posts() ) : the_post(); ?>
```

Add a line that says the file name.  For example in your `home.php` file it should look like this:

```php
<?php if ( have_posts() ) : while ( have_posts() ) : the_post(); ?>
<?php the_title(); ?>
```

Repeat this process for every file and save them.

3. Let’s check the website in your browser.

If you haven’t yet, you should have a **few posts** and these pages: **Home**, **Blog**, **About** on your local site.

Visit each of these pages and posts (since you haven’t created a navigation bar yet, you’ll have to manually enter the url, e.g. `http://mysite.com/home`). You should see the name of template file above each page’s title.

Play around with **your latest post** and **static page** settings in the `Settings → Reading` to see how the templates change depending on the settings.

>**Note**: To make a template file invisible to WordPress, just rename it to something WordPress doesn’t recognise, for example by adding `_` to the front of the file name. Try renaming your `page.php`, `home.php`, and `single.php` files with an `_` in the front: like `_page.php` to temporarily make the file invisible to WordPress and see how the hierarchy is affected.

###The Template Hierarchy In Detail

While the template hierarchy is easier to understand as a diagram, the following sections describe the order in which template files are called by WordPress for a number of query types.

###Home Page display

By default, WordPress sets your site’s home page to display your latest blog posts. This page is called the blog posts index. You can also set your blog posts to display on a separate static page. The template file `home.php` is used to render the blog posts index, whether it is being used as the front page or on separate static page. If `home.php` does not exist, WordPress will use `index.php`.

>**Note**: If 1 exists, it will override the `home.php` template.

###Front Page display

The front-page.php template file is used to render your site’s front page, whether the front page displays the blog posts index (mentioned above) or a static page. The front page template takes precedence over the blog posts index (`home.php`) template. If the `front-page.php` file does not exist, WordPress will either use the home.php or page.php files depending on the setup in `Settings → Reading`. If neither of those files exist, it will use the `index.php` file.

1. `front-page.php` – Used for both “your latest posts” or “a static page” as set in the front page displays section of `Settings → Reading`.
2. `home.php` – If WordPress cannot find `front-page.php` and “your latest posts” is set in the front page displays section, it will look for `home.php`. Additionally, WordPress will look for this file when the posts page is set in the front page displays section.
3. `page.php` – When “front page” is set in the front page displays section.
4. `index.php` – When “your latest posts” is set in the front page displays section but `home.php` does not exist or when front page is set but `page.php` does not exist.

As you can see, there are a lot of rules to what path WordPress takes. Using the chart above is the best way to determine what WordPress will display.

###Single Post

The single post template file is used to render a single post. WordPress uses the following path:

1. `single-{post-type}.php` – First, WordPress looks for a template for the specific post type. For example, post type is product, WordPress would look for `single-product.php`.
2. `single.php` – WordPress then falls back to `single.php`.
3. `index.php` – Finally, as mentioned above, WordPress ultimately falls back to `index.php`.

###Page

The template file used to render a static page (page post-type). Note that unlike other post-types, page is special to WordPress and uses the following patch:

1. custom template file – The page template assigned to the page. See [get_page_templates()](http://developer.wordpress.org/reference/functions/get_page_templates/).
2. `page-{slug}.php` – If the page slug is recent-news, WordPress will look to use `page-recent-news.php`.
3. `page-{id}.php` – If the page ID is 6, WordPress will look to use `page-6.php`.
4. `page.php`
5. `index.php`

###Category

Rendering category archive index pages uses the following path in WordPress:

1. `category-{slug}.php` – If the category’s slug is news, WordPress will look for `category-news.php`.
2. `category-{id}.php` – If the category’s ID is 6, WordPress will look for `category-6.php`.
3. `category.php`
4. `archive.php`
5. `index.php`

###Tag

To display a tag archive index page, WordPress uses the following path:

1. `tag-{slug}.php` – If the tag’s slug is sometag, WordPress will look for `tag-sometag.php`.
2. `tag-{id}.php` – If the tag’s ID is 6, WordPress will look for `tag-6.php`.
3. `tag.php`
4. `archive.php`
5. `index.php`

###Custom Taxonomies

Custom taxonomies use a slightly different template file path:

1. `taxonomy-{taxonomy}-{term}.php` – If the taxonomy is sometax, and taxonomy’s term is someterm, WordPress will look for `taxonomy-sometax-someterm.php`. In the case of post formats, the taxonomy is `post_format` and the terms are `post-format-{format}`. i.e. `taxonomy-post_format-post-format-link.php` for the link post format.
2. `taxonomy-{taxonomy}.php` – If the taxonomy were sometax, WordPress would look for `taxonomy-sometax.php`.
3. `taxonomy.php`
4. `archive.php`
5. `index.php`

###Custom Post Types

Custom Post Types use the following path to render the appropriate archive index page.

1. `archive-{post_type}.php` – If the post type is product, WordPress will look for `archive-product.php`.
2. `archive.php`
3. `index.php`

For rendering a single post type template, refer to the single post display section above.

###Author display

Based on the above examples, rendering author archive index pages is fairly explanatory:

1. `author-{nicename}.php` – If the author’s nice name is matt, WordPress will look for `author-matt.php`.
2. `author-{id}.php` – If the author’s ID were 6, WordPress will look for `author-6.php`.
3. `author.php`
4. `archive.php`
5. `index.php`

###Date

Date-based archive index pages are rendered as you would expect:

1. `date.php`
2. `archive.php`
3. `index.php`

###Search Result

Search results follow the same pattern as other template types:

1. `search.php`
2. `index.php`

###404

Likewise, 404 template files are called in this order:

1. `404.php`
2. `index.php`

###Attachment

Rendering an attachment page (attachment post-type) requires following the follow path:

1. `MIME_type.php` – it can be any MIME type (For example: image.php, video.php, application.php). For text/plain, the following path is used (in order):
    - `text.php`
    - `plain.php`
    - `text_plain.php`
2. `attachment.php`
3. `single-attachment.php`
4. `single.php`
5. `index.php`

###Filter Hierarchy

The WordPress template system lets you filter the hierarchy. This means that you can insert and change things at specific points of the hierarchy. The filter (located in the [get_query_template()](http://developer.wordpress.org/reference/get_query_template) function) uses this filter name: "`{$type}_template`" where `$type` is a file name in the hierarchy without the `.php` extension.

Here is a complete list of all template types in the filter hierarchy:

- index_template
- 404_template
- archive_template
- author_template
- category_template
- tag_template
- taxonomy_template
- date_template
- home_template
- front_page_template
- page_template
- paged_template
- search_template
- single_template
- text_template, plain_template, text_plain_template (all mime types)
- attachment_template
- comments_popup

###Example

For example, let’s take the default author hierarchy:

- `author-{nicename}.php`
- `author-{id}.php`
- `author.php`

To add `author-{role}.php` before `author.php`, we can manipulate the actual hierarchy using the `author_template` template type. This allows a request for `/author/username` where username has the role of editor to display using `author-editor.php` if present in the current themes directory.

```php
<?php
function author_role_template( $templates='' ) {
    $author = get_queried_object();
    $role=$author->roles[0];
    if(!is_array($templates) && !empty($templates)) {
        $templates=locate_template(array('author-$role.php',$templates),false);
    }
    elseif(empty($templates)) {
        $templates=locate_template('author-$role.php',false);
    }
    else {
        $new_template=locate_template(array('author-$role.php'));
        if(!empty($new_template)) array_unshift($templates,$new_template);
    }
    return $templates;
}

add_filter( 'author_template', 'author_role_template' );
?>
```


##Page Templates

Page Templates are a specific type of template file that can be applied to a specific page, or groups of pages.

Since a page template is a specific type of template file, here are some distinguishing features of page templates:

- Page templates only apply to pages.
- Page templates are used to change the look and feel of a page.
- A page template can be applied to a single page, a page section, or a class of pages.
- Page templates generally have a high level of specificity, targeting an individual page or group of pages
- `page-about.php` (a page template) is more specific than the template files `page.php` or `index.php` as it will only affect a page with the slug of `about`
- If a page template has a template name, WordPress users editing the page have control over what template will be used to render the page (see image below).

![select a template](https://developer.wordpress.org/files/2014/10/basics-page-templates-01.jpg)

###Uses for Page Templates

Page templates display your site’s dynamic content on a page, e.g., posts, news updates, calendar events, media files, etc. For example, you may decide that you want your homepage to look a specific way, that is quite different to different parts of your website. You may want to display a featured image that links to a post on one part of the page, have a list of latest posts elsewhere, and a custom navigation. You can use page templates to achieve this.

This section shows you how to build page templates that can be selected by your users through their admin screens.

For example, you can build page templates for:

- full-width, one-column
- two-column with a sidebar on the right
- two-column with a sidebar on the left
- three-column

###Page Templates within the Template Hierarchy

![template hierarchy](https://developer.wordpress.org/files/2014/10/basics-page-templates-02.png)

When a person browses to your website, WordPress selects which template to use for rendering that page. The above image is a detail of the Template Hierarchy, it shows:

- Page Template — If the page has a custom template assigned, WordPress looks for that file and, if found, uses it.
- page-{slug}.php — Or else WordPress looks for and, if found, uses a specialized template named with the page’s slug.
- page-{id}.php — Or else WordPress looks for and, if found, uses a specialized template named with the page’s ID.
- page.php — Or else WordPress looks for and, if found, uses the theme’s default page template.
- index.php — Or else WordPress uses the theme’s index file.

>**Alert**: There is also a WordPress-defined template named `paged.php`. It is not used for the page post-type but rather for displaying multiple pages of archives.

###Page Templates Purpose & User Control

Once you’ve decided to make a custom page template it’s a good idea to decide the following:

- the global or single-use for the page template
- what type of user control you want available for that template

Every page template that has a template name can be selected by a user when they create or edit a page. They can be found at `Pages > Add New > Attributes > Template`. Therefore, a WordPress user can choose any page template with a template name. This might not be appropriate in all situations.

For example, you have a scenario where you have a specific template for your “About” page. It may not be appropriate to give that page template a template name of “About Template” as it would be globally available to all pages (i.e. the user could apply it to any page). Instead, create a single use template and leave it up to WordPress to render the page with that template when a user of the site visits the “About” page.

Likewise, if you want your WordPress users to be able to choose how many columns their pages will have and you’ve created templates for each option, you want those templates to be available globally, you need to give them a template name.

Dictating whether a template is for global use vs. singular use is achieved by the way the file is named and whether or not is has a specific comment.

>**Note**: Sometimes it is appropriate to have a template globally available even if it appears to be a single use case. When you’re creating themes for release, it can be hard to predict what a user will name their pages. Portfolio pages are a great example as not every WordPress user will name their portfolio the same thing or have the same page ID and yet they need to be to use that template.

###File Organization of Page Templates

As discussed in Theme Files Organization WordPress recognizes the subfolder `page-templates`. Therefore, it’s a good idea to store your global page templates in this folder to help keep them organized.

>**Alert**: A specialized page template file (those created for only one time use) cannot be in a sub-folder, nor, if using a [Child Theme](https://codex.wordpress.org/Child_Themes), in its Parent Theme’s folder.

###Tutorial: Creating Custom Page Templates for Global Use

This section will show you how to create a page template that can be used globally by any page, or by multiple pages.  We’ll start by creating a two-column template file.  If you’re following along and building the theme we started in Your First Theme, open `wp-content/themes/my-first-theme` and add a new folder called `page-templates`.

####1. Open page.php and save as two-columns.php in the page-templates folder

Some developers will group their templates with a filename prefix, such as `page_two-columns.php`

>**Alert**: Important! Do not use page- as a prefix, as WordPress will interpret the file as a specialized template, meant to apply to only one page on your site.

For information on theme file-naming conventions and filenames you cannot use, see [reserved theme filenames](http://codex.wordpress.org/Theme_Development#Template_Files_List).

>**Tip**: A quick, safe method for creating a new page template is to make a copy of `page.php` and give the new file a distinct filename. That way, you start off with the HTML structure of your other pages and you can edit the new file as needed.

####2. Write an opening PHP comment that states the template’s name.

Add this opening statement to the very top of the file. It states the template’s name.

```php
<?php /* Template Name: Two Columns Template */ ?>
```

In your own projects, you can replace “Two Columns Template” with any name you like. It’s a good idea to choose a name that describes what the template does as the name is visible to WordPress users when they are editing the page. For example, in your other page templates you could call it Homepage, Blog or Portfolio.

This example from the TwentyTwelve theme creates a page template called Front Page Template:

```php
<?php
/**
* Template Name: Front Page Template
*
* Description: A page template that provides a key component of WordPress as a CMS
* by meeting the need for a carefully crafted introductory page. The front page template
* in Twenty Twelve consists of a page content area for adding text, images, video --
* anything you'd like -- followed by front-page-only widgets in one or two columns.
*
* @package WordPress
* @subpackage Twenty_Twelve
* @since Twenty Twelve 1.0
*/
?>
```

####3. (optional) Add a statement to identify your template file on the front end

Add the following `<p>This is a global page template for two columns </p>` under your `<?php get_header(); ?>` so that when you load a page using the template you can see that it’s working. You’ll remove this at the end of your project.

####4. Add a sidebar to make your template two columns

Right above `<?php get_footer(); ?>` code at the bottom of the file add `<?php get_sidebar()?>`.  When you build your sidebar later on, this template tag will pull in your sidebar and make your page have two columns.  We’ll talk more in depth about these topics later on in this handbook.  Be sure to save your file.

####5. Activate your new template

![basics-page-templates-03](https://developer.wordpress.org/files/2014/10/basics-page-templates-03.png)

Once you upload the file to your theme’s folder (e.g., `page-templates`), go to the dashboard `Page > Edit` screen to assign your new custom page template to your **Blogs Page** on the right hand side under **attributes** you’ll see **template**. Select the **Two Columns Template**. Update the page and you’ll have successfully implemented your first global template.

>**Tip**: The select list has a maximum width of 250px, so longer names may be cut off.

###Tutorial: Creating a Custom Page Template for One Specific Page

To create a template for one specific page, copy your existing `page.php` file and rename it with your page’s slug or ID:

- page-{slug}.php
- page-{ID}.php

For example: Your About page has a slug of `about` and an ID of 6. If your active theme’s folder has a file named `page-about.php` or `page-6.php`, then WordPress will automatically find and use that file to render the About page.

To be used, specialized page templates must be in your active theme’s folder: `/wp-content/themes/my-first-theme/`

####1. Save your page.php file as page-about.php in main folder of your theme

Change the statement you added in the Template Heirarchy tutorial section to This is the `page-about.php` file and save.  Now when you visit your About page on your website WordPress will use this file to render the page. Neat!

###Using Conditional Tags in Page Templates

You can make smaller page-specific changes with [Conditional Tags](http://codex.wordpress.org/Conditional_Tags) in your Theme’s `page.php` file. For instance, this code loads the file `header-home.php` for your front page, but loads another (`header-about.php`) for your About page, and then applies the default `header.php` for all other pages.

###Example

```php
<?php
if ( is_front_page() ) {
    get_header( 'home' );
} elseif { ( is_page( 'About' ) ) {
    get_header( 'about' );
} else {
    get_header();
}
?>
```

###Additional Examples

The following are instructional examples of custom page template files. **Please Note**: Your WordPress theme’s template file structure and HTML structure may be different.

###Archives with Content

This example of a page template displays the page’s content at the top, then a list of archives (by month), then the site categories below that.

Save this to `arc-cont.php`:

```php
<?php
/*
Template Name: Archives with Content
*/
get_header(); ?>
<div id="content" class="widecolumn">
    <?php if (have_posts()) : while (have_posts()) : the_post(); ?>
    <div class="post">
        <h2 id="post-<?php the_ID(); ?>"><?php the_title(); ?></h2>
        <div class="entrytext">
            <?php the_content( 'Read the rest of this page »' ); ?>
        </div>
    </div>
    <?php endwhile; endif; ?>
<?php edit_post_link( 'Edit this entry.', '<p>', '</p>' ); ?>
</div>
<div id="main">
    <?php get_search_form(); ?>
    <h2>Archives by Month:</h2>
    <ul>
        <?php wp_get_archives( 'type=monthly' ); ?>
    </ul>
    <h2>Archives by Subject:</h2>
    <ul>
        <?php wp_list_categories(); ?>
    </ul>
</div>
<?php get_footer(); ?>
```

###A Page of Posts

The following custom page template displays the content of the page, followed by the posts from two specific categories (specified by their category slugs). It is designed to work within a child theme of the Twenty Thirteen theme. If you are using a different theme, you need to replicate the HTML structure of your own theme within this template. Save this to `pageofposts.php` and then assign the *Page of Posts* Template to your new page:

```php
<?php
/*
Template Name: Page Of Posts
*/

/* This example is for a child theme of Twenty Thirteen:
*  You'll need to adapt it the HTML structure of your own theme.
*/
get_header(); ?>
    <div id="primary" class="content-area">
        <div id="content" class="site-content" role="main">
        <?php
        /* The loop: the_post retrieves the content
         * of the new Page you created to list the posts,
         * e.g., an intro describing the posts shown listed on this Page..
         */
        if ( have_posts() ) : while ( have_posts() ) : the_post();

              // Display content of page
              get_template_part( 'content', get_post_format() );
              wp_reset_postdata();
            endwhile;
        endif;
        $paged = (get_query_var('paged')) ? get_query_var('paged') : 1;
        $args = array(
            // Change these category SLUGS to suit your use.
            'category_name' => 'music, videos',
            'paged' => $paged
        );
        $list_of_posts = new WP_Query( $args ); ?>
        <?php if ( $list_of_posts->have_posts() ) : ?>
            <?php /* The loop */ ?>
            <?php while ( $list_of_posts->have_posts() ) : $list_of_posts->the_post(); ?>
                <?php // Display content of posts ?>
                <?php get_template_part( 'content', get_post_format() ); ?>
            <?php endwhile; ?>

            <?php twentythirteen_paging_nav(); ?>
        <?php else : ?>
            <?php get_template_part( 'content', 'none' ); ?>
        <?php endif; ?>
        </div><!-- #content -->
    </div><!-- #primary -->
<?php get_footer(); ?>
```

###Example Using Custom Fields

This page template example displays posts from a specific category depending on a C[ustom Field](http://codex.wordpress.org/Custom_Fields) assigned to a page. The value of the custom field “category” is retrieved and used to retrieve the posts in that category. If the category of posts you want to display is called “events,” then assign the custom field “category” with a value of “events” to the page.

Note that this will adhere to pagination rules, meaning that four (4) posts will display per page with links to older/newer posts provided. Save this to `pageofposts_customfields.php` and then assign the *Page of Posts* with Custom Fields Template when creating the action page:

```php
<?php
/*
Template Name: Page Of Posts with Custom Fields
*/
get_header(); ?>
<div id="content" class="narrowcolumn">
<?php
if ( is_page() ) {
    $category = get_post_meta( $posts[0]->ID, 'category', true );
    $cat = get_cat_ID( $category );
}
if ( $cat ) :
    $paged = ( get_query_var( 'paged' ) ) ? get_query_var( 'paged' ) : 1;
    $post_per_page = 4; // -1 shows all posts
    $do_not_show_stickies = 1; // 0 to show stickies
    $args=array (
      'category__in'        => array( $cat ),
      'orderby'             => 'date',
      'order'               => 'DESC',
      'paged'               => $paged,
      'posts_per_page'      => $post_per_page,
      'ignore_sticky_posts' => $do_not_show_stickies
    );
    $temp = $wp_query; // assign original query to temp variable for later use
    global $wp_query;
    $wp_query = null;
    $wp_query = new WP_Query( $args );
    if ( $wp_query->have_posts() ) :
        while ( $wp_query->have_posts() ) : $wp_query->the_post(); ?>
        <div <?php post_class() ?> id="post-<?php the_ID(); ?>">
            <h2><a href="<?php the_permalink() ?>" rel="bookmark" title="Permanent Link to <?php the_title_attribute(); ?>"><?php the_title(); ?></a></h2>
            <small><?php the_time( 'F jS, Y' ) ?> <!-- by <?php the_author() ?> --></small>
            <div class="entry">
            <?php the_content( 'Read the rest of this entry »' ); ?>
            </div>
            <p class="postmetadata"><?php the_tags( 'Tags: ', ', ', '<br />' ); ?> Posted in <?php the_category( ', ' ) ?> | <?php edit_post_link( 'Edit', '', ' | ' ); ?> <?php comments_popup_link( 'No Comments »', '1 Comment »', '% Comments »' ); ?></p>
        </div>
        <?php endwhile; ?>
    <div class="navigation">
        <div class="alignleft"><?php next_posts_link( '« Older Entries' ) ?></div>
        <div class="alignright"><?php previous_posts_link( 'Newer Entries »' ) ?></div>
    </div>
    <?php endif; // if ( $wp_query->have_posts() ) ?>
    <?php $wp_query = $temp; //reset back to original query ?>
<?php else : ?>
    <h2 class="center">Not Found</h2>
    <p class="center">Sorry, but you are looking for something that isn't here.</p>
    <?php get_search_form(); ?>
<?php endif; // if ( $cat ) ?>
</div><!-- #content -->
<?php get_sidebar(); ?>
<?php get_footer(); ?>
```

###Example Using Custom Post Types

[Custom Post Types](http://codex.wordpress.org/Post_Types) allow WordPress sites to display many different types of content. This example displays posts belonging to a custom post type on a page . In this case, the custom post type is `book`. The page template below can work in any theme or as a child theme template file.

```php
<?php
/**
 * Template Name: Page of Books
 *
 * Print posts of a Custom Post Type.
 */
get_header(); ?>
    <div id="container">
        <div id="content">
        <?php
        $type = 'book';
        $args = array (
         'post_type'          => $type,
         'post_status'        => 'publish',
         'paged'              => $paged,
         'posts_per_page'     => 2,
         'ignore_sticky_posts'=> 1
        );
        $temp = $wp_query; // assign ordinal query to temp variable for later use
        $wp_query = null;
        $wp_query = new WP_Query($args);
        if ( $wp_query->have_posts() ) :
            while ( $wp_query->have_posts() ) : $wp_query->the_post(); ?>
                <h2><?php the_title(); ?></h2>
                <div class="entry-content"><?php the_content(); ?></div>
        <?php  endwhile;
        else : ?>
            <h2>Not Found</h2>
            <?php get_search_form(); ?>
        <?php endif;
        $wp_query = $temp;
        ?>
        </div><!-- #content -->
    </div><!-- #container -->
<?php get_sidebar(); ?>
<?php get_footer(); ?>
```

###Identifying a Page Template

If your template uses the [body_class](http://codex.wordpress.org/Function_Reference/body_class) function, WordPress will print classes in the body tag for the post type class name (`page`), the Page’s ID (`page-id-{ID}`), and the page template used. For the default page.php, the class name is `page-template-default`, e.g.:

```html
<body class="page page-id-6 page-template-default">
```

>**Note**: a specialized template (`page-{slug}.php` or `page-{ID}.php`) also gets the `page-template-default` class rather than its own body class.

When using a custom page template, the class page-template will print, along with a class naming the specific template, e.g.:

In the custom page template file the template name is as follows:

```php
<?php /* Template Name: My Custom Page */ ?>
```

The rendered HTML is as follows:

```html
<body class="page page-id-6 page-template page-template-my-custom-page-php">
```

###Page Template Functions

These built-in WordPress functions and methods can help you work with page templates:

- [get_page_template()](http://codex.wordpress.org/Function_Reference/get_page_template) returns the path of the page template used to render the page.
- [wp_get_theme()->get_page_templates()](http://codex.wordpress.org/Class_Reference/WP_Theme#Get_Custom_Page_Templates) returns all custom page templates available to the currently active theme (`get_page_templates()` is a method of the [WP_Theme](http://codex.wordpress.org/Class_Reference/WP_Theme) class).
- [is_page_template()](http://codex.wordpress.org/Function_Reference/is_page_template) returns true or false depending on whether a custom page template was used to render the page.
- [get_page_template_slug()](http://codex.wordpress.org/Function_Reference/get_page_template_slug) returns the value of custom field `_wp_page_template` (null when value is empty or “default”).

The filename of a page’s assigned custom template is stored as the value of a [custom field](http://codex.wordpress.org/Custom_Fields) named `_wp_page_template` (in the [wp_postmeta](http://codex.wordpress.org/Database_Description#Table:_wp_postmeta) database table). (Custom fields starting with an underscore do not display in the edit screen’s custom fields module.)


##Template Tags

Template tags are used within themes to **retrieve content from your database**. The content could be anything from a blog title to a complete sidebar. Template tags are the preferred method to pull content into your theme because:

- they can print dynamic content;
- they can be used in multiple theme files; and
- they separate the theme into smaller, more understandable, sections.

###What is a Template Tag?

A template tag is simply a piece of code that tells WordPress to get something from the database. It is broken up into three components:

- A PHP code tag
- A WordPress function
- Optional parameters

You can use a template tag to call another theme file or some information from the database.

For example, the template tag [get_header()](https://developer.wordpress.org/reference/functions/get_header/) tells WordPress to get the header.php file and include it in the current theme file. Similarly, [get_footer()](https://developer.wordpress.org/reference/functions/get_footer/) tells WordPress to get the `footer.php` file.

There are also other kinds of template tags:

- [the_title()](https://developer.wordpress.org/reference/functions/the_title/) – tells WordPress to get the title of the page or post from the database and include it.
- [bloginfo('name')](https://developer.wordpress.org/reference/functions/bloginfo/) – tells WordPress to get the blog title out of the database and include it in the template file.

If you look closely at the last example, you will also see that there is a parameter between the parenthesis. Parameters let you do two things:

1. ask for specific pieces of information and
2. format the information in a certain way.

Parameters are covered extensively below, but it’s useful to be aware that you can send WordPress-specific instructions for how you want the data presented.

###Why Use Template Tags

By encapsulating all of the code for a particular chunk of content, template tags make it very easy to include various pieces of a template in a theme file and also to maintain the theme.

It is far easier to create one `header.php` file and have all of your theme templates like `single.php`, `page.php`, `front-page.php`, etc. reference that one theme file using `get_header()` than copying and pasting the code into each theme file. It also makes maintenance easier. Whenever you make a change in your `header.php` file, the change is automatically carried over into all of your other theme files.

Another reason to use template tags is to display dynamic data, i.e. data from the database. In your header, you could manually include the `title` tag, like so:

```html
<title>My Personal Website</title>
```

However, doing this means manually editing your theme any time you want to change the title of your website. Instead, it’s easier to include the `bloginfo('name')` template tag, which automatically fetch the site title from the database. Now, you can change the title of your site in WordPress, rather than having to hard code your theme templates.

###How to Use Template Tags

Using template tags is very simple. In any template file you can use a template tag by simply printing one line of php code to call the template tag. Printing the header.php file is as simple as:

```php
<?php get_header() ?>
```

A [complete list of template tags](https://codex.wordpress.org/Template_Tags) can be found in the WordPress Codex.

####Parameters

Some template tags let you pass parameters. Parameters are extra pieces of information that determine what is retrieved from the database.

For example, the [bloginfo()](https://developer.wordpress.org/reference/functions/bloginfo/) template tag allows you to give it a parameter telling WordPress the specific piece of information you want. To print the blog name, you just pass along the parameter “name,” like so:

```php
<?php bloginfo('name') ?>
```

To print the version of WordPress that the blog is running on, you would pass a parameter of “version”:

```php
<?php bloginfo('version') ?>
```

For each template tag, the parameters differ. A list of the parameters and what they can do can be found on specific template tag pages located throughout the [code reference](https://developer.wordpress.org/reference/).

####Using Template Tags Within the Loop

Many template tags work within the WordPress Loop, which you’ll learn about on the next page. This means that they are included in the template files as part of the php “loop” that generates the pages users see based upon the instructions inside of the loop.

The WordPress loop begins with:

```php
<?php if ( have_posts() ) : while ( have_posts() ) : the_post(); ?>
```

Template tags that work within the loop must be in the middle area, before the ending section of the loop below:

```php
<?php endwhile; else: ?>
<?php _e('Sorry, no posts matched your criteria.'); ?>
<?php endif; ?>
```

Template tags that need to be inside of the loop include [the_content()](https://developer.wordpress.org/reference/functions/the_content/), [the_excerpt()](https://developer.wordpress.org/reference/functions/the_excerpt/), [next_post()](https://developer.wordpress.org/reference/functions/next_post/), and [previous_post()](https://developer.wordpress.org/reference/functions/previous_post/). If the template tag you want to use doesn’t have to be within the loop, like [wp_list_cats()](https://developer.wordpress.org/reference/functions/wp_list_cats/) and [wp_list_pages()](https://developer.wordpress.org/reference/functions/wp_list_pages/), then you can put it in any file you’d like, for instance in the sidebar, header, or footer template files.

##The Loop

The Loop is PHP code that is used to display Posts. When you include the Loop in your Template File, WordPress retrieves each post to be displayed on the current page, and formats it according to your theme’s instructions. You could have a WordPress theme without the loop, but then it would only display one Post.

The Loop extracts the data for each post from the WordPress database and inserts the appropriate information in place of each Template Tag. Any HTML or PHP code in The Loop will be processed **for each post**.

Basically, the Loop **loops through each post in your database and for each one does something**.

Example of what you can use the Loop for:

- display post titles and excerpts on your blog’s homepage
- display the content and comments on a single post
- display the content on an individual page
- display data from Custom Post Types and Custom Fields

You can customize the loop across your template files to display different content and manipulate that content.

###The Loop in Detail

The basic loop is:

```php
<?php if (have_posts()) : ?>
<?php while (have_posts()) : the_post(); ?>
```

This loop says while there are posts, display the posts. That will pull all of your content from the database. Broken down into more detail:

- `if (have_posts())` checks whether there are any posts
- If there are posts, a while loop continues to execute as long as the condition in the parenthesis is logically true. As long as `have_posts` continues to be true, the while loop will continue.

###Using The Loop

The Loop should be placed in `index.php`, and in any other Templates used to display post information.

It should always come after the call to Header Template

```php
<?php get_header(); ?>
```

The Loop starts with:

```php
<?php if ( have_posts() ) : while ( have_posts() ) : the_post(); ?>
```

and ends with:

```php
<?php endwhile; endif; ?>
```

You need to include any Template Tags you want to apply to all posts between those two code snippets.

>**Tip**: You can include a custom 404 message that will be displayed if no posts matching the specified criteria are available.

An extremely simple index.php file would look like:

```php
<?php
get_header();
if (have_posts()) :
   while (have_posts()) :
      the_post();
      the_content();
   endwhile;
endif;
get_sidebar();
get_footer();
?>
```

###What the Loop can Display

The Loop can display a number of different elements. Common Template Tags are:

- [next_post_link](http://developer.wordpress.org/reference/functions/next_post_link) – a link to the post published chronologically after the current post
- [previous_post_link](http://developer.wordpress.org/reference/functions/previous_post_link) –  a link to the post published chronologically before the current post
- [the_category](http://developer.wordpress.org/reference/functions/the_category) –  the category or categories associated to the post or page being viewed
- [the_author](http://developer.wordpress.org/reference/functions/the_author) –  the author of the post or page
- [the_content](http://developer.wordpress.org/reference/functions/the_content) – Displays the main content for a post or page
- [the_excerpt](http://developer.wordpress.org/reference/functions/the_excerpt) – Displays the first 55 words of a post’s main content then with a […] or read more link that goes to the full post. The length of excerpts can be controlled by using this slightly advanced method or by using the Excerpt field on the post edit page.
- [the_ID](http://developer.wordpress.org/reference/functions/the_ID) – Displays the ID for the post or page
- [the_meta](http://codex.wordpress.org/Function_Reference/the_meta) – Used to display custom fields
- [the_shortlink](http://developer.wordpress.org/reference/functions/the_shortlink) – Displays a link to the page or post using the url of the site using the ID of the post or page
- [the_tags](http://developer.wordpress.org/reference/functions/the_tags) – Displays the tag or tags associated with the post
- [the_title](http://developer.wordpress.org/reference/functions/the_title) – Displays the title of the post or page
- [the_time](http://developer.wordpress.org/reference/functions/the_time) – Displays the time or date for the post or page. This can be customized using the standard php date function formatting

You can also display Conditional Tags, such as:

- `is_home()` – Returns true if the current page is the homepage
- `is_admin()` – Returns true if admin is logged in and visiting the site
- `is_single()` – Returns true if page is displaying a single post
- `is_page()` – Returns true if page is displaying a single page
- `is_page_template()` – Can tell you if page is using a specific template. i.e. `is_page_template(‘about-page.php’)`
- `is_category()` – Returns true if page or post has a specified category. i.e. `is_category(‘news’)`
- `is_tag()` – Returns true if page or post has a specified tag
- `is_author()` – Returns true if a specific author is logged in and visiting the site.
- `is_search()` – Returns true if page is a search results page
- `is_404()` – Returns true if page does not exist
- `has_excerpt()` – Returns true if post or page has an excerpt

###Examples

Let’s take a look at some examples of the Loop in action:

####Basic Examples

#####Blog Archive

```php
<?php if ( have_posts() ) : while ( have_posts() ) : the_post(); ?>
<h2><?php the_title(); ?></h2>
    <?php the_post_thumbnail(); ?>
    <?php the_excerpt(); ?>
<?php endwhile; else: ?>
<?php _e('Sorry, no posts matched your criteria.'); ?>
<?php endif; ?>
```

This simple loop connects to the database to check for Posts. If Posts are available it retrieves the **title**, **thumbnail** and **excerpt**. If no posts exist, it displays the message in parentheses.

#####Individual Page

```php
<?php if ( have_posts() ) : while ( have_posts() ) : the_post(); ?>
    <h1><?php the_title(); ?></h1>
    <?php the_content(); ?>
<?php endwhile; else: ?>
    <?php _e('Sorry, no pages matched your criteria.'); ?>
<?php endif; ?>
```

This loop returns the title and post content. This could be used in a page template file to display just the content and title for that individual page. This is because **the template used determines how many times WordPress loops through the code**.

####Intermediate Examples

#####Style Posts from Some Categories Differently

The below example does the following:

- displays each Post with its title, category, and content
- allows Posts with the category ID “3” to be styled differently (using the [in_category](http://developer.wordpress.org/reference/functions/in_category/) template tag

The code comments provide detail on each stage of the loop:

```php
<?php // Start the Loop. ?>
<?php if ( have_posts() ) : while ( have_posts() ) : the_post(); ?>
    <?php
    /*
     Test if the current post is in category 3.
     If it is, the div box is given the CSS class "post-cat-three".
     Otherwise, the div box is given the CSS class "post".
    */
     ?>
    <?php if ( in_category('3') ) { ?>
    <div class="post-cat-three">
    <?php } else { ?>
    <div class="post">
    <?php } ?>
    <?php // Display the Title as a link to the Post's permalink. ?>
    <h2><?php the_title() ?></h2>
    <?php // Display the date (November 16th, 2009 format) and a link to other posts by this posts author. ?>
    <small><?php the_time('F jS, Y') ?> by <?php the_author_posts_link() ?></small>
    <?php // Display the Post's content in a div box. ?>
    <div class="entry"><?php the_content() ?></div>
    <?php // Display a comma separated list of the Post's Categories. ?>
    Posted in <?php the_category(', '); ?>
    <?php // closes the first div box with the class of "post" or "post-cat-three" ?>
    </div>
<?php // Stop The Loop (but not the "else:" - see next line). ?>
<?php endwhile; else: ?>
<?php
 /*
 The very first "if" tested to see if there were any Posts to
 display. This "else" part tells what do if there weren't any.
*/
 ?>
<?php _e('Sorry, no posts matched your criteria.'); ?>
<?php //REALLY stop The Loop. ?>
<?php endif; ?>
```

###Using WP_Query

[WP_Query](http://developer.wordpress.org/reference/classes/wp_query/) is a class defined by WordPress that provides numerous functions for use in the loop.

- `have_posts()` which calls `$wp_query->have_posts()` is called to see if there are any posts to show.
- If there are, a while loop is begun, using `have_posts()` as the condition.
- This will iterate as long as there are posts to show.
- In each iteration, `the_post()` , which calls `$wp_query->the_post()` is called, setting up internal variables within `$wp_query` and the global `$post` variable (which the Template Tags rely on), as above.

These are the functions you should use when writing a theme file that needs a loop.

###Standard Loop Using WP_Query

```php
<?php
// The Query
$the_query = new WP_Query( $args );
// The Loop
if ( $the_query->have_posts() ) :
    while ( $the_query->have_posts() ) :
        $the_query->the_post();
        echo '<li>' . get_the_title() . '</li>';
    endwhile;
else :
    // no posts found
    _e('Sorry, no posts matched your criteria.');
endif;
/* Restore original Post Data */
wp_reset_postdata();
?>
```

###Multiple Loops

You might find yourself in a situation where you need to use more than one loop. For example, you might want to do something to one group of posts, something different to another group of posts, and then display both groups on the same page. A common example of this is showing the single post and then showing a list of posts from a category below the main content.

```php
<?php
// The main query
if ( have_posts() ) :
    while ( have_posts() ) : the_post();
        the_title();
        the_content();
    endwhile;
    wp_reset_postdata();
else :
    // no posts found
    _e( 'Sorry, no posts matched your criteria.' );
endif;
// The secondary query
$secondary_query = new WP_Query( 'category_name=custom_cat' );
// The second loop
if ( $secondary_query->have_posts() ) :
    while ( $secondary_query->have_posts() ) :
        $secondary_query->the_post();
        echo '<li>' . get_the_title() . '</li>';
    endwhile;
endif;
?>
```

If you need to use multiple loops on a given page, there are two ways you can do it:

- by using the `rewind_posts()` function
- by creating new query objects

####Resetting multiple loops

It’s important when using multiple loops in a template that you reset them.  Not doing so can lead to unexpected results due to how data is stored and used within the global `$post` variable. There are three main ways to reset the the loop depending on the way you are calling the loops.

- [wp_reset_postdata()](https://developer.wordpress.org/reference/functions/wp_reset_postdata/)
- [wp_reset_query()](https://developer.wordpress.org/reference/functions/wp_reset_query/)
- [rewind_posts()](https://developer.wordpress.org/reference/functions/rewind_posts/)

####Using wp_reset_postdata()

Use this function when you are running custom or multiple loops with `WP_Query`. This function  restores the global `$post` variable to the current post in the main query.  If you’re following best practices, this is the most common function you will use to reset loops.

To properly use this function, place the following code after any loops with `WP_Query`

```php
<?php wp_reset_postdata(); ?>
```

Here is an example of a loop using `WP_Query` that is reset with `wp_reset_postdata()`.

```php
<?php
// example args
$args = array( 'posts_per_page' => 3 );
// the query
$the_query = new WP_Query( $args );
?>
<?php if ( $the_query->have_posts() ) : ?>
    <!-- start of the loop -->
    <?php while ( $the_query->have_posts() ) : $the_query->the_post(); ?>
        <?php the_title(); ?>
        <?php the_excerpt(); ?>
    <?php endwhile; ?><!-- end of the loop -->
    <!-- put pagination functions here -->
    <?php wp_reset_postdata(); ?>
<?php else:  ?>
<p><?php _e( 'Sorry, no posts matched your criteria.' ); ?></p>
<?php endif; ?>
```

####Using wp_reset_query()

Using this function restores the `$wp_query` and global post data to the original main query.  You MUST use this function to reset your loop if you use `query_posts()` within your loop.  You can use it after custom loops with `WP_Query` because it actually calls `wp_reset_postdata()` when it runs.  However, it’s best to just use `wp_reset_postdata()` with custom loops involving WP_Query.

>**Alert**: `query_posts()` is not best practice and should be avoided if at all possible.  Therefore, you shouldn’t have much use for `wp_reset_query()`

To properly use this function, place the following code after any loops with `query_posts()`.

```php
<?php wp_reset_query(); ?>
```

Here is an example of a loop using `query_posts()` that is reset `with wp_reset_query()`.

```php
<?php
query_posts( 'post_parent=5' );
if ( have_posts() ) :
    while ( have_posts() ) : the_post();
        ?><a href="<?php the_permalink() ?>"><?php the_title() ?></a><br /><?php
    endwhile;
endif;
wp_reset_query();
?>
```

####Using rewind_posts()

You can use rewind_posts() to loop through the same query a second time.  Use this to display the same query twice in different locations on a page.

```php
<?php rewind_posts(); ?>
```
Here is an example of rewind_posts() in use.

```php
<?php
// main loop
if (have_posts()) : while (have_posts()) : the_post();
    the_content();
endwhile; endif;
// rewind
rewind_posts();
// new loop
while (have_posts()) : the_post();
    the_content();
endwhile;
?>
```

####Starting a new query

Another possibility is that you’re finished with the posts in your first query, and are now ready to start a new, different query. In this case, you just call `query_posts()` again to loop through another group of posts. This will start a new query, build a new posts array and reset the loop counter.

```php
<?php
query_posts( $args );
while (have_posts()) : the post();
    // Do something
endwhile;
?>
```

If you still need your first query around while you’re dealing with your new query, you can store it in a new query object:

```php
<?php
$my_query = new WP_Query( $args );
while ($my_query->have_posts()) : $my_query->the_post();
    // Do something
endwhile;
?>
```

Since you can’t use the global `have_posts()` and `the_post()`, we use the new query object `my_query` to call these functions and loop through our initial query.

###See Also

- [3 Ways to Reset the WordPress Loop](http://digwp.com/2011/09/3-ways-to-reset-the-wordpress-loop/)


##Theme Functions

The `functions.php` file is where you add unique functions to your WordPress theme. It can be used to hook into the core functionality of WordPress without editing any core files, and can make your theme more modular, extensible, and functional.

###What is functions.php?

The `functions.php` file behaves like a WordPress plugin, adding features and functionality to a WordPress site. You can use it to call functions and to define your own functions.

>**Note**: the same result can be produced using both a plugin or functions.php. If you are creating functionality that should be available no matter what the website looks like, it is best practice to put the functionality in a plugin.

A WordPress plugin:

- requires specific, unique header text
- is stored in wp-content/plugins, usually in a subdirectory
- only executes on page load when activated
- applies to all themes
- should have a single purpose, e.g., convert Posts to Pages, offer search engine optimization features, or help with backups

A functions file:

- requires no unique header text
- is stored in theme’s subdirectory in wp-content/themes
- executes only when in the active theme’s directory
- applies only to that theme. If the theme is changed, the functionality is lost
- can have numerous blocks of code used for many different purposes

Each theme has its own functions file, but only code in the `functions.php` in the active theme is actually run.  If your theme already has a functions file, you can add code to it. If not, you can create a plain-text file named `functions.php` to add to your theme’s directory.

A Child Theme can have its own `functions.php` file. (Please note that, although the child functions file is loaded right before the parent functions file, it does not override the parent file. The child theme’s functions.php file can be used to augment or replace the parent theme’s functions.) Adding a function to the child functions file is a risk-free way to modify a parent theme. That way, when the parent theme is updated, you don’t have to worry about your newly added function disappearing.

With a functions file you can:

- Use WordPress hooks. For example, with the `excerpt_length` filter you can change your post excerpt length (from default of 55 words).
- Enable WordPress features with [add_theme_support()](https://developer.wordpress.org/reference/functions/add_theme_support/) to turn on post thumbnails, post formats, and navigation menus.
- Define functions you wish to reuse in multiple theme template files.

>**Note**: When a page is requested, `functions.php` is loaded during theme setup, after any plugin files have loaded. The following diagram explains this in more detail:

![Image courtesy of Andrey Savchenko at Rarst.net. The image has been made available under a Creative Commons ShareAlike license. No modifications have been made.](https://developer.wordpress.org/files/2014/10/basics-theme-functions-01.png)

>**Alert**: If a WordPress plugin calls the same function, or filter, as you do in your functions file, the results can be unexpected — even site disabling.

###Creating functions.php

Creating functions.php is easy.

1. Create a new file
2. Add the following header:

```php
<?php
/**
*  ThemeName functions and definitions
*
*  @package ThemeName
*  @since ThemeName 1.0
*/
?>
```

This comment block describes what the file will do with a brief description.

You should also include the PHPdoc `@package` and `@since`, as WordPress does in many theme files, to designate the name of the theme and the version number.

3. Save the file in your theme folder as `functions.php`.

###Theme Setup #

There are a number of theme features that you can include within one function. You add these to your functions.php file to active default WordPress features.

>**Note**: It’s important to namespace your functions with your theme name.  Whenever you see `themename_` or `theme_name` be sure to replace with your theme’s name (i.e. `my_custom_theme_setup()` or `my_custom_theme`.

To set this up, start a new function entitled `themename_setup()`

```php
<?php
if ( ! function_exists( 'themename_setup' ) ) :
/**
* Sets up theme defaults and registers support for various WordPress features
*
*  It is important to set up these functions before the init hook so that none of these
*  features are lost.
*
*  @since ThemeName 1.0
*/
function themename_setup() {
?>
```
Some functions are required by the Theme Review Guidelines, while others are recommended. They will be clearly labeled below.

####Automatic Feed Links

This enables post and comment RSS feeds. These feeds will be displayed in `<head>` automatically. They can be called using `add_theme_support()`. This is required.

```php
<?php add_theme_support( 'automatic-feed-links' ); ?>
```

####Navigation Menus

Custom navigation menus allow users to edit and customize menus in the Menus admin panel. This gives users a drag and drop interface to edit the various menus in their theme.

You can set up multiple menus in `functions.php`. They can be added using [register_nav_menus()](https://developer.wordpress.org/reference/functions/register_nav_menus/) and inserted into a theme using [wp_nav_menu()](https://developer.wordpress.org/reference/functions/wp_nav_menu/). If you want to add more than one menu, they should be called in an array. This is recommended.

```php
<?php
register_nav_menus( array(
    'primary'   => __( 'Primary Menu', 'theme_name' ),
    'secondary' => __( 'Secondary Menu', 'theme_name' )
) );
?>
```

These menus will be called by using the name assigned (i.e. primary) as the `theme_location` parameter.

####Load Text Domain

If you choose to make your theme available for translation, and it is highly recommended that you do, you can make your themes strings available for translation using [load_theme_textdomain()](https://developer.wordpress.org/reference/functions/load_theme_textdomain/). Translation files can then be added to the `/languages` directory in your root. This is recommended.

```php
<?php load_theme_textdomain( 'Theme_Name', get_template_directory() . '/languages' ); ?>
```

####Post Thumbnails

Post Thumbnails, or Featured Images, allow your users to choose an image to represent their post. They can be displayed in your theme in a variety of ways, such as displaying it within an array of posts along with title, author, an excerpt, or by using it as a big featured image on your homepage. You can use `add_theme_support()` to add post thumbnails to your theme. This is recommended.

```php
<?php add_theme_support( 'post-thumbnails' ); ?>
```

####Post Formats

Post Formats allow users to format their posts in different ways. This is useful for allowing bloggers to choose different formats and templates based on the content of the post. `add_theme_support()` is also used for Post Formats. This is recommended.

```php
<?php add_theme_support( 'post-formats',  array ( 'aside', 'gallery', 'quote', 'video' ) ); ?>
```

####Initial Setup

If you choose to include all of the above functions, then the beginning of your `functions.php` file will look like this.

```php
<?php
if ( ! function_exists( 'themename_setup' ) ) :
/**
 * Sets up theme defaults and registers support for various WordPress features.
 *
 * Note that this function is hooked into the after_setup_theme hook, which runs
 * before the init hook. The init hook is too late for some features, such as indicating
 * support post thumbnails.
 */
function themename_setup() {

    /**
     * Make theme available for translation
     * Translations can be filed in the /languages/ directory
     */
    load_theme_textdomain( 'theme_name', get_template_directory() . '/languages' );

    /**
     * Add default posts and comments RSS feed links to head
     */
    add_theme_support( 'automatic-feed-links' );

    /**
     * Enable support for Post Thumbnails
     */
    add_theme_support( 'post-thumbnails' );

    /**
     * This theme has two nav menus
     */
    register_nav_menus( array(
        'primary'   => __( 'Primary Menu', 'theme_name' ),
        'secondary' => __('Secondary Menu', 'theme_name' )
    ) );

    /**
     * Enable support for the Post Formats aside, gallery, quote and video
     */
    add_theme_support( 'post-formats', array ( 'aside', 'gallery', 'quote', 'video' ) );
}
endif; // themename_setup
add_action( 'after_setup_theme', 'themename_setup' );
?>
```

####Sidebars

Sidebars are an important part of your theme. They are areas that users can customize using widgets through the widgets admin panel. Widgets can be used for a variety of purposes, ranging from listing recent posts to conducting live chats.

>**Tip**: The name “sidebars” comes from a time when widget areas were normally created in a long strip to the lefthand or righthand side of a blog. Today, sidebars have evolved beyond their original name. They can be included anywhere on your website. Think of a sidebar as **any area that contains widgets**.

To use sidebars, you must register them in `functions.php`. This is a required step by the theme review guidelines.

To begin, [register_sidebar()](https://developer.wordpress.org/reference/functions/register_sidebar/) has several parameters which must be defined. These are all optional, but are all recommended.

- `name` – your name for the sidebar. This is the name users will see in the Widgets panel.
- `id` – must be lowercase. You will call this in your theme using the [dynamic_sidebar](https://developer.wordpress.org/reference/functions/dynamic_sidebar/) function.
- `description` – A description of the sidebar. This will also be shown in the admin Widgets panel.
- `class` – The CSS class name to assign to the widget’s HTML.
- `before_widget` – HTML that is placed before every widget.
- `after_widget` – HTML that is placed after every widget. Should be used to close tags from `before_widget`.
- `before_title` – HTML that is placed before the title of each widget, such as a header tag.
- `after_title` – HTML that is placed after every title. Should be used to close tags from `before_title`.

To register a sidebar we use `register_sidebar` and the [widgets_init](https://developer.wordpress.org/reference/hooks/widgets_init/) function.

```php
<?php
function themename_widgets_init() {
    register_sidebar( array(
        'name'          => __( 'Primary Sidebar', 'theme_name' ),
        'id'            => 'sidebar-1',
        'before_widget' => '</pre><aside id="%1$s" class="widget %2$s">',
        'after_widget'  => '</aside><pre>',
        'before_title'  => '</pre><h1 class="widget-title">',
        'after_title'   => '</h1><pre>',
    ) );

    register_sidebar( array(
        'name'          => __( 'Secondary Sidebar', 'theme_name' ),
        'id'            => 'sidebar-2',
        'before_widget' => '</pre><ul><li id="%1$s" class="widget %2$s">',
        'after_widget'  => '</li></ul><pre>',
        'before_title'  => '</pre><h3 class="widget-title">',
        'after_title'   => '</h3><pre>',
    ) );
}
add_action( 'widgets_init', 'themename_widgets_init' );
?>
```

Once your sidebar is registered, you can display it in your theme.

###Custom Header

Custom headers allow site owners to upload their own “title” image to their site, which can be placed at the top of certain pages. These can be customized and cropped by the user through a visual editor in the `Appearance > Header` section of the admin panel. You may also place text beneath or on top of the header. To support fluid layouts and responsive design, these headers may also be flexible. Headers are placed into a theme using [get_custom_header()](https://developer.wordpress.org/reference/functions/get_custom_header/), but they must first be added to your functions.php file using `add_theme_support()`. Custom headers are optional.

Custom headers are quite extensive, so it is recommended that you read more about them in the custom headers  section if you would like to include them, but in order to set up a basic, flexible, custom header with text you would include the following code:

```php
<?php
function themename_custom_header_setup() {
    $args = array(
        'default-image'      => get_template_directory_uri() . 'img/default-image.jpg',
        'default-text-color' => '000',
        'width'              => 1000,
        'height'             => 250,
        'flex-width'         => true,
        'flex-height'        => true,
    )
    add_theme_support( 'custom-header', $args );
}
add_action( 'after_setup_theme', 'themename_custom_header_setup' );
?>
```

>**Note**: The [after_setup_theme](https://developer.wordpress.org/reference/hooks/after_setup_theme/) hook is used so that custom headers are registered upon the themes activation.

To ensure backwards compatibility, you must also include `add_custom_image_header()` which will support all versions of WordPress prior to 3.4. Fortunately, it is easy to use the same parameters set by the initial custom header setup, and use version_compare to check which version of WordPress is being used.

```php
<?php
function themename_custom_header_setup() {
    global $wp_version;
    $args = array(
        'default-image'      => get_template_directory_uri() . 'img/default-image.jpg',
        'default-text-color' => '000',
        'width'              => 1000,
        'height'             => 250,
        'flex-width'         => true,
        'flex-height'        => true,
    )
    if ( version_compare( $wp_version, '3.4', '>=' ) ) {
        add_theme_support( 'custom-header', $args );
    } else {
        define( 'HEADER_TEXTCOLOR',    $args['default-text-color'] );
        define( 'HEADER_IMAGE',        $args['default-image'] );
        define( 'HEADER_IMAGE_WIDTH',  $args['width'] );
        define( 'HEADER_IMAGE_HEIGHT', $args['height'] );
        add_custom_image_header( $wp_head_callback, $admin_head_callback );
        }
}
add_action( 'after_setup_theme', 'themename_custom_header_setup' );
?>
```

###Custom Background

You can also add a custom background so that users can choose a custom background color or image for their site. Like custom headers, a custom background can be added with `add_theme_support` with similar parameters. It is also necessary to add backwards compatibility. This is also optional.

```php
<?php
function themename_register_custom_background() {
    $args = array(
        'default-color' => 'ffffff',
        'default-image' =>  ' ',
    );
    if ( version_compare( $wp_version, '3.4', '>=' ) ) {
        add_theme_support( 'custom-background', $args ):
    } else {
        add_custom_background();
    }
}
add_action( 'after_setup_theme', 'themename_register_custom_background' );
?>
```

###Add Editor Style

The [add_editor_style](https://developer.wordpress.org/reference/functions/add_editor_style/) can be used to add a special CSS stylesheet to the TinyMCE visual editor. The only parameter to define in this function is the path to the stylesheet file, though if none is specified, `editor-style.css` is used by default.

```php
<?php
function themename_add_editor_styles() {
    add_editor_style( 'custom-editor-style.css' );
}
add_action ( 'admin_init', 'themename_add_editor_styles' );
?>
```

###Content Width

You may set a custom maximum width in your `functions.php` file. This will set a maximum allowed width for any content added theme, including uploaded images. This is useful if you wish to ensure that no assets or content will break their container. This is optional.

```php
<?php
if ( ! isset ( $content_width) )
    $content_width = 640;
?>
```

###Your functions.php File

If you choose to include all of the functions listed above, this is what your functions.php might look like. It has been commented with references to above.

```php
<?php
/**
 *ThemeNames functions and definitions
 *
 * @package ThemeName
 * @since ThemeName 1.0
 */

/**
 * First, let's set the maximum content width based on the theme's design and stylesheet.
 * This will limit the width of all uploaded images and embeds.
 */
if ( ! isset( $content_width ) )
    $content_width = 640; /* pixels */

if ( ! function_exists( 'themename_setup' ) ) :
/**
 * Sets up theme defaults and registers support for various WordPress features.
 *
 * Note that this function is hooked into the after_setup_theme hook, which runs
 * before the init hook. The init hook is too late for some features, such as indicating
 * support post thumbnails.
 */
function themename_setup() {

    /**
     * Make theme available for translation
     * Translations can be filed in the /languages/ directory
     */
    load_theme_textdomain( 'theme_name', get_template_directory() . '/languages' );

    /**
     * Add default posts and comments RSS feed links to head
     */
    add_theme_support( 'automatic-feed-links' );

    /**
     * Enable support for Post Thumbnails
     */
    add_theme_support( 'post-thumbnails' );

    /**
     * This theme will use two nav menus.
     */
    register_nav_menus( array(
        'primary'   => __( 'Primary Menu', 'theme_name' ),
        'secondary' => __( 'Secondary Menu', 'theme_name' )
    ) );

    /**
     * Enable support for the Post Formats aside, gallery, quote and video
     */
    add_theme_support( 'post-formats', array ( 'aside', 'gallery', 'quote', 'video' ) );
}
endif; // ThemeName setup
add_action( 'after_setup_theme', 'themename_setup' );

/**
 * Setup the WordPress core custom background feature.
 *
 * We must be careful to setup backwards compatibility here for WP versions before 3.4
 * If this is not required, you may delete the second half of this function
 *
 * Hooks into the after_setup_theme action.
 */
function themename_register_custom_background() {
    global $wp_version;
    $args = array(
        'default-color' => 'ffffff',
        'default-image' =>  ' ',
    );

        if ( version_compare( $wp_version, '3.4', '>=' ) ) {
                add_theme_support( 'custom-background', $args ):
        } else {
                add_custom_background();
        }
}
    add_action( 'after_setup_theme', 'themename_register_custom_background' );

/**
 * Setup WordPress custom headers
 * Custom headers will be available to users in the Appearance section of the admin panel
 *
 * We must be careful to set-up backwards compatibility here
 * If this is not required, you may delete the second half of this function
 *
 * Hooks into the after_setup_theme action.
 */

function themename_custom_header_setup() {
    global $wp_version;
    $args = array(
        'default-image'      => get_template_directory_uri() . 'img/default-image.jpg',
        'default-text-color' => '000',
        'width'              => 1000,
        'height'             => 250,
        'flex-width'         => true,
        'flex-height'        => true,
        )
        if ( version_compare( $wp_version, '3.4', '>=' ) ) {
                add_theme_support( 'custom-header', $args );
        } else {
                define( 'HEADER_TEXTCOLOR',    $args['default-text-color'] );
                define( 'HEADER_IMAGE',        $args['default-image'] );
                define( 'HEADER_IMAGE_WIDTH',  $args['width'] );
                define( 'HEADER_IMAGE_HEIGHT', $args['height'] );
                add_custom_image_header( $wp_head_callback, $admin_head_callback );
        }
}
add_action( 'after_setup_theme', 'themename_custom_header_setup' );

/**
 * Register widgetized area and update sidebar with default widgets
 * We will be setting up two widgetized sidebars here
 */
function themename_widgets_init() {
    register_sidebar( array(
        'name'          => __( 'Primary Sidebar', 'theme_name' ),
        'id'            => 'sidebar-1',
        'before_widget' => '</pre><aside id="%1$s" class="widget %2$s">',
        'after_widget'  => '</aside><pre>',
        'before_title'  => '</pre><h1 class="widget-title">',
        'after_title'   => '</h1><pre>',
    ) );

    register_sidebar( array(
        'name'          => __( 'Secondary Sidebar', 'theme_name' ),
        'id'            => 'sidebar-2',
        'before_widget' => '</pre><ul><li id="%1$s" class="widget %2$s">',
        'after_widget'  => '</li></ul><pre>',
        'before_title'  => '</pre><h3 class="widget title">',
        'after_title'   => '</h3><pre>',
    ) );
}
add_action( 'widgets_init', 'themename_widgets_init' );

/**
 * Add a custom stylesheet for the TinyMCE editor
 */
function themename_add_editor_styles() {
    add_editor_style( 'custom-editor-style.css' );
}
add_action ( 'init', themename_add_editor_styles );

/**
 * Enqueue scripts and styles
 */
function themename_scripts() {
    wp_enqueue_style( 'style', get_stylesheet_uri() );

    wp_enqueue_style( 'slider', get_template_directory_uri() . '/css/slider.css',false,'1.1','all' );

    wp_enqueue_script( 'script', get_template_directory_uri() . '/js/script.js', array ( 'jquery' ), 1.1, true );

        if ( is_singular() && comments_open() && get_option( 'thread_comments' ) ) {
            wp_enqueue_script( 'comment-reply' );
        }
}
add_action( 'wp_enqueue_scripts', 'themename_scripts' );
?>
```


##Linking Theme Files & Directories

###Linking to Core Theme Files

As you’ve learned, WordPress themes are built from a number of different template files. At the very least this will usually include a `sidebar.php`, `header.php` and `footer.php`. These are called using Template Tags, for example:

- [get_header()](https://developer.wordpress.org/reference/functions/get_header/)
- [get_footer()](https://developer.wordpress.org/reference/functions/get_footer/)
- [get_sidebar()](https://developer.wordpress.org/reference/functions/get_sidebar/)

You can create custom versions of these files can be called as well by naming the file `sidebar-{your_custom_template}.php`, `header-{your_custom_template}.php` and `footer-{your_custom_template}.php`. You can then use Template Tags with the custom template name as the only parameter, like this:

```php
<?php
get_header( 'your_custom_template' );
get_footer( 'your_custom_template' );
get_sidebar( 'your_custom_template' );
?>
```

WordPress creates pages by assembling various files. Aside from the standard files for the header, footer and sidebar, you can create custom template files and call them at any location in the page using [get_template_part()](https://developer.wordpress.org/reference/functions/get_template_part/). To create a custom template file in your theme give the file an appropriate name and use the same custom template system as with the header, sidebar and footer files:`slug-template.php`

For example, if you would like to create a custom template to handle your post content you could create a template file called content.php and then add a specific content layout for product content by extending the file name to `content-product.php`. You would then load this template file in your theme like this:

```php
<?php get_template_part( 'content', 'product' ); ?>
```

If you want to add more organization to your templates, you can place them in their own directories within your theme directory. For example, suppose you add a couple more content templates for profiles and locations, and group them in their own directory called `content-templates`.

The theme hierarchy for your theme called `my-theme` might look like the following. `style.css` and `page.php` are included for context.

- themes
    - my-theme
        - content-templates
            - content-location.php
            - content-product.php
            - content-profile.php
        - style.css

To include your content templates, prepend the directory names to the slug argument like this:

```php
<?php
get_template_part( 'content-templates/content', 'location' );
get_template_part( 'content-templates/content', 'product' );
get_template_part( 'content-templates/content', 'profile' );
?>
```

###Linking to Theme Directories

To link to the theme’s directories, you can use the following functions:

- [get_template_directory_uri()](https://developer.wordpress.org/reference/functions/get_template_directory_uri/)
- [get_stylesheet_directory_uri()](https://developer.wordpress.org/reference/functions/get_stylesheet_directory_uri/)

If you are not using a child theme both of these functions will return the same thing – the full URI to your theme’s main folder. You can use this to reference sub-folders in your theme like this:

```php
<?php echo get_template_directory_uri() . '/images/logo.png'; ?>
```

If you are using a child theme then `get_stylesheet_directory_uri()` will return the URI of your child theme, while `get_template_directory_uri()` will return the URI of your parent theme. This is particularly important to keep in mind when distributing a theme or in any other case where a child theme may or may not be active.

###Dynamic Linking in Templates

Regardless of your permalink settings, you can link to a page or post dynamically by referring to its unique numerical ID (seen in several pages in the admin interface) with `<a href="<?php echo get_permalink(ID); ?>">This is a link</a>`.

This is a convenient way to create page menus as you can later change page slugs without breaking links, as IDs will stay the same. However, this might increase database queries.

Dynamic page menus can also be created by utilizing Template\_Tags/wp\_list\_pages child_of parameter or some of the many available plugins.

###Resources

E[diting Posts Plugins – Link Plugins](https://developer.wordpress.org/index.php?title=Plugins/Posts_Editing&action=edit&redlink=1)


##Including CSS & JavaScript