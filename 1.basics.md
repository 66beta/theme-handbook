#Theme Basics

In this section, you’ll build on that theme by adding new features to your theme and learning how to build a theme properly. You’ll begin by looking at how you can break [theme files and templates](https://developer.wordpress.org/themes/basics/theme-files-organization/) down into smaller, reusable pieces. Then, you’ll learn how to keep your files organized within your theme.

You’ll also look at **The Loop**, which is responsible for pulling content out of the WordPress database.

Finally, you’ll learn more about adding features to your theme by **using theme functions**, **including CSS & JavaScript**, and leveraging **conditional tags** to only show content you need.

##Template Files

Template files are used throughout WordPress themes, but first let’s learn about the terminology.

###Template Terminology

The term “template” is used in different ways when working with WordPress themes:

- Templates are the files within your [WordPress Theme](http://codex.wordpress.org/Using_Themes) that control how your site is displayed in the browser. This page discusses templates, generally.
- Page Templates are a type of template that are applied only to pages to change their look and feel.  A page template can be applied to a single page, a page section, or a class of pages.
- Template Tags are built-in WordPress functions you can use inside a template file to retrieve and display data (such as [the_title()](https://developer.wordpress.org/reference/hooks/the_title/) and [the_content()](https://developer.wordpress.org/reference/hooks/the_content/)).
- Template Hierarchy is the logic WordPress uses to decide which theme template file(s) to use, depending on the content being requested.

###Template files

WordPress themes are made up of template files. These are PHP files that contain a mixture of HTML, **WordPress Template Tags**, and PHP.

When you are building your theme, you will use template files to affect the layout and design of different parts of your website. For example, you would use the `header.php` template to create a header, or the `comments.php` template to include comments.

When someone visits a page on your website, WordPress generates the page based on the template files that are included in your theme. Next, the server parses the PHP in the required templates and returns HTML to the visitor’s web browser, which renders the page.

As mentioned previously in What is a Theme?, the most critical template file is `index.php`, but you’ll often find other templates in a theme such as:

- `header.php` for generating the site’s header
- `footer.php` for generating the footer
- `sidebar.php` for generating the sidebar
While the above PHP template files apply to one section of a page, templates are also used to control how different types of content are displayed on your website, as described on page discussing page templates.

###Why use separate template files?

One of the principles of good development is to not repeat yourself. For example, if you have three different files that all use the same header, any change in the header will require a change in all three files. Not only does this get tedious, but it is prone to error.

As a theme continues to grow in complexity, its `index.php` file can become difficult to manage. In addition, a single large template file may increase load times in the browser, slowing down your site.

With template files, your website is broken down into logical, reusable chunks. This means you only have to maintain one file for each component of your website, and ensures a better experience for site visitors.

###Tutorial: Create Template Files for Your Theme

Now it’s time to add some more standards files to the theme that you started in Your First Theme.  While many themes have around 30+ files, you’ll start by adding just 5 new files to your theme. Right now your theme should have `index.php` and `style.css`.

You’re going to create the following files.  Most are self-explanatory from their name alone. This section will only cover creating the files, you’ll find out more about how the code works in later sections.

- `header.php` – generates the header(s) for all your theme’s pages
- `footer.php` – generates the footer(s) for all your theme’s pages
- `page.php` – generates a static page
- `home.php` – generates your main blog posts page
- `single.php` – generates a single blog post

The tutorial follows these broad steps:

1. Breaking the code contained in `index.php` into modular parts (i.e. the header and footer)
2. Using a template tag in `index.php` to include these modular parts
3. Duplicating your `index.php` file to use as the basis for other parts of your theme (your homepage, single post, and static page)

####Header.php

1. Open the theme folder you created in Your First Theme in `wp-content/themes/my-first-theme`.
2. Create a new file called header.php.
3. Open the index.php file and cut out the following code. It’s important that you cut the code, don’t just copy it, as you’re going to place it in the new file.

```php
<!DOCTYPE html>
<html>
 <head>
     <meta charset="<?php bloginfo( 'charset' ); ?>">
     <title><?php wp_title( '|', true, 'right' ); ?></title>
     <link rel="stylesheet" href="<?php echo esc_url( get_stylesheet_uri() ); ?>" type="text/css" />
     <?php wp_head(); ?>
 </head>
 <body>
     <h1><?php bloginfo( 'name' ); ?></h1>
     <h2><?php bloginfo( 'description' ); ?></h2>
 ```
4. Paste the code into `header.php` file. Save both files.

####Footer.php

1. Create a `footer.php` file.
2. Cut out the following code from your index.php file:

```php
    <?php wp_footer(); ?>
    </body>
</html>
```
3. Paste the code into your footer.php file. Save both files.

####Update Index.php

Now that you’ve pulled out the header and footer sections of code from your `index.php` file you need to add 2 codes snippets for your `index.php` file to include the `header.php` and `footer.php` files.

1. Add this to the very top of your index.php file.

```php
<?php get_header(); ?>
```
2. Add this to the very bottom of the file.

```php
<?php get_footer(); ?>
```

These two snippets of code are examples of template tags which you can read more about later.

####Page.php, Home.php, & Single.php

Finally, open your `index.php` file and “save as” `page.php`, repeat to create `home.php` and `single.php`.

>**Note**: Even though `index.php`, `page.php`, `home.php` and `single.php` all are identical code right now, `page.php`, `home.php`, and `single.php` will render pages differently just by the way WordPress interprets the type of template file that they are.

You’ll eventually tweak each of theses files to make them unique.

###Common WordPress template files

Below is a list of some basic theme templates and files recognized by WordPress. Of course, your theme may contain any stylesheets, images, and files.

Keep in mind that the following files have special meaning to WordPress – see the article on the template hierarchy for more information.

- `index.php` The main template file. It is **required** in all themes.
- `style.css` The main stylesheet. It is **required** in all themes and contains the information header for your theme.
- `rtl.css` The right-to-left stylesheet is included automatically if the website language’s text direction is right-to-left.
- `comments.php` The comments template.
- `front-page.php` The front page template is only used if you use a static front page, which is set in WordPress under `Admin > Settings > Reading`.
- `home.php` The home page template is the front page by default. If you do not set WordPress to use a static front page, this template is used to show latest posts.
- `header.php` The header template file usually contains your site’s document type, meta information, links to stylesheets and scripts, and other data.
- `single.php` The single post template is used when a visitor requests a single post. For this, and all other query templates, `index.php` is used if the query template is not present.
- `single-{post-type}.php` The single post template used when a visitor requests a single post from a custom post type. For example, `single-book.php` would be used for displaying single posts from a custom post type named book. The `index.php` is used if a specific query template for the custom post type is not present.
- `archive-{post-type}.php` The archive post type template is used when visitors request a custom post type archive. For example, `archive-books.php` would be used for displaying an archive of posts from the custom post type named books. The archive.php template file is used if the `archive-{post-type}.php` is not present.
- `page.php` The page template is used when visitors request individual pages, which are a built-in template.
- `page-{slug}.php` The page slug template is used when visitors request a specific page, for example one with the “about” slug (page-about.php).
- `category.php` The category template is used when visitors request posts by category.
- `tag.php` The tag template is used when visitors request posts by tag.
- `taxonomy.php` The taxonomy term template is used when a visitor requests a term in a custom taxonomy.
- `author.php` The author page template is used whenever a visitor loads an author page.
- `date.php` The date/time template is used when posts are requested by date or time. For example, the pages generated with these slugs:`http://example.com/blog/2014/, http://example.com/blog/2014/05/, http://example.com/blog/2014/05/26/`
```
- `archive.php` The archive template is used when visitors request posts by category, author, or date. **Note**: this template will be overridden if more specific templates are present like `category.php`, `author.php`, and `date.php`.
- `search.php` The search results template is used to display a visitor’s search results.
- `attachment.php` The attachment template is used when viewing a single attachment like an image, pdf, or other media file.
- `image.php` The image attachment template is a more specific version of `attachment.php` and is used when viewing a single image attachment. If not present, WordPress will use `attachment.php` instead.
- `404.php` The 404 template is used when WordPress cannot find a post, page, or other content that matches the visitor’s request.

###Using template files

Within WordPress templates, you can use Template Tags to display information dynamically, include other template files, or otherwise customize your site.

For example, in your `index.php` you can include other files in your final generated page:

- To include the header, use [get_header()](http://developer.wordpress.org/reference/functions/get_header/)
- To include the sidebar, use [get_sidebar()](http://developer.wordpress.org/reference/functions/get_sidebar/)
- To include the footer, use [get_footer()](http://developer.wordpress.org/reference/functions/get_footer/)
- To include the search form, use [get_search_form()](http://developer.wordpress.org/reference/functions/get_search_form/)
- To include custom theme files, use [get_template_part()](http://developer.wordpress.org/reference/functions/get_template_part/)

Here is an example of WordPress template tags to include specific templates into your page:

```php
<?php get_sidebar(); ?>
<?php get_template_part( 'featured-content' ); ?>
<?php get_footer(); ?>
```

There’s an entire page on Template Tags that you can dive into to learn all about them.

##Theme Files & Organization

While WordPress themes technically only require two files (`index.php` and `style.css`), they usually are made up of many files. That means they can quickly become disorganized! This section will show you how to keep your files organized.

###Theme folder and file structure

As mentioned previously, the default Twenty themes are some of the best examples of good theme development. For instance, here is how the [Twenty Twelve theme](https://wordpress.org/themes/twentytwelve/) organizes its [file structure](https://core.trac.wordpress.org/browser/trunk/src/wp-content/themes/twentytwelve):

```
css (dir)
inc (dir)
js (dir)
languages (dir)
page-templates (dir)
404.php
archive.php
author.php
category.php
comments.php
content.php
content-aside.php
content-image.php
content-link.php
content-none.php
content-page.php
content-quote.php
content-status.php
editor-style-rtl.css
editor-style.css
footer.php
functions.php
header.php
image.php
index.php
page.php
rtl.css
screenshot.png
search.php
sidebar.php
sidebar-front.php
single.php
style.css
tag.php
```

You can see that the main theme template files are in the root directory, while JavaScript, languages, CSS, and page template files are placed in their own folders.

At this time there are **no required folders within a WordPress theme**. However, WordPress does recognize the following folders by default.

###Page templates folder

Custom page templates have their own directory, `page-templates`, which allows for better organization of page template files. Custom page templates are page templates that can be applied to individual pages to change their design and layout (more on those later!) Custom page templates in this folder are automatically recognized by WordPress.

###Languages folder

It’s best practice to internationalize your theme so it can be translated into other languages. Default themes include the `languages` folder, which contains a .pot file for translation and any translated .mo files. While `languages` is the default name of this folder, you can change the name. If you do so, you must update [load_theme_textdomain()](https://developer.wordpress.org/reference/functions/load_theme_textdomain/).


##Template Hierarchy

As discussed, template files are modular, reusable files, used to generate the web pages on your WordPress site. Some template files (such as the header and footer template) are used on all of your site’s pages, while others are used only under specific conditions.

This article explains **how WordPress determines which template file(s) to use on individual pages**. If you want to customize an existing WordPress theme it will help you decide which template file needs to be edited.

>**Tip**: Tou can also use Conditional Tags to control which templates are loaded on a specific page.

###The Template File Hierarchy

####Overview

WordPress uses the [query string](http://codex.wordpress.org/Glossary#Query_String) to decide which template or set of templates should be used to display the page. The query string is information that is contained in the link to each part of your website. It comes after the initial question mark and may contain a number of parameters separated by ampersands.

Put simply, WordPress searches down through the template hierarchy until it finds a matching template file. To determine which template file to use, WordPress:

- Matches every query string to a query type to decide which page is being requested (for example, a search page, a category page, etc);
- Selects the template in the order determined by the template hierarchy;
- Looks for template files with specific names in the current theme’s directory and uses the **first matching template file** as specified by the hierarchy.

With the exception of the basic `index.php` template file, you can choose whether you want to implement a particular template file or not.

If WordPress cannot find a template file with a matching name, it will skip to the next file in the hierarchy. If WordPress cannot find any matching template file, the theme’s index.php file will be used.

####Examples

If your blog is at `http://example.com/blog/` and a visitor clicks on a link to a category page such as `http://example.com/blog/category/your-cat/`, WordPress looks for a template file in the current theme’s directory that matches the category’s ID to generate the correct page. More specifically, WordPress follows this procedure:

1. Looks for a template file in the current theme’s directory that matches the category’s slug. If the category slug is “unicorns,” then WordPress looks for a template file named `category-unicorns.php`.
2. If `category-unicorns.php` is missing and the category’s ID is 4, WordPress looks for a template file named `category-4.php`.
3. If `category-4.php` is missing, WordPress will look for a generic category template file, `category.php`.
4. If `category.php` does not exist, WordPress will look for a generic archive template, `archive.php`.
5. If `archive.php` is also missing, WordPress will fall back to the main theme template file, `index.php`.

####Visual Overview

The following diagram shows which template files are called to generate a WordPress page based on the WordPress template hierarchy.
![Template Hierarchy Chart](http://developer.wordpress.org/files/2014/10/wp-template-hierarchy-1024x640.jpg)

You can also [interact with this diagram](http://wphierarchy.com/).

###Tutorial: The Template Hierarchy in Practice

Let’s tweak the files you made earlier in Template Files so you can see the hierarchy in practice.

1. Open your theme folder in wp-content/themes/my-first-theme.

You should have these files in your folder:

- `footer.php`
- `header.php`
- `home.php`
- `index.php`
- `page.php`
- `single.php`
- `style.css`

2. Open your `index.php`, `home.php`, `page.php`, and `single.php` files.  Right above this line of code:

```php
<?php if ( have_posts() ) : while ( have_posts() ) : the_post(); ?>
```

Add a line that says the file name.  For example in your `home.php` file it should look like this:

```php
<?php if ( have_posts() ) : while ( have_posts() ) : the_post(); ?>
<?php the_title(); ?>
```

Repeat this process for every file and save them.

3. Let’s check the website in your browser.

If you haven’t yet, you should have a **few posts** and these pages: **Home**, **Blog**, **About** on your local site.

Visit each of these pages and posts (since you haven’t created a navigation bar yet, you’ll have to manually enter the url, e.g. `http://mysite.com/home`). You should see the name of template file above each page’s title.

Play around with **your latest post** and **static page** settings in the `Settings → Reading` to see how the templates change depending on the settings.

>**Note**: To make a template file invisible to WordPress, just rename it to something WordPress doesn’t recognise, for example by adding `_` to the front of the file name. Try renaming your `page.php`, `home.php`, and `single.php` files with an `_` in the front: like `_page.php` to temporarily make the file invisible to WordPress and see how the hierarchy is affected.

###The Template Hierarchy In Detail

While the template hierarchy is easier to understand as a diagram, the following sections describe the order in which template files are called by WordPress for a number of query types.

###Home Page display

By default, WordPress sets your site’s home page to display your latest blog posts. This page is called the blog posts index. You can also set your blog posts to display on a separate static page. The template file `home.php` is used to render the blog posts index, whether it is being used as the front page or on separate static page. If `home.php` does not exist, WordPress will use `index.php`.

>**Note**: If 1 exists, it will override the `home.php` template.

###Front Page display

The front-page.php template file is used to render your site’s front page, whether the front page displays the blog posts index (mentioned above) or a static page. The front page template takes precedence over the blog posts index (`home.php`) template. If the `front-page.php` file does not exist, WordPress will either use the home.php or page.php files depending on the setup in `Settings → Reading`. If neither of those files exist, it will use the `index.php` file.

1. `front-page.php` – Used for both “your latest posts” or “a static page” as set in the front page displays section of `Settings → Reading`.
2. `home.php` – If WordPress cannot find `front-page.php` and “your latest posts” is set in the front page displays section, it will look for `home.php`. Additionally, WordPress will look for this file when the posts page is set in the front page displays section.
3. `page.php` – When “front page” is set in the front page displays section.
4. `index.php` – When “your latest posts” is set in the front page displays section but `home.php` does not exist or when front page is set but `page.php` does not exist.

As you can see, there are a lot of rules to what path WordPress takes. Using the chart above is the best way to determine what WordPress will display.

###Single Post

The single post template file is used to render a single post. WordPress uses the following path:

1. `single-{post-type}.php` – First, WordPress looks for a template for the specific post type. For example, post type is product, WordPress would look for `single-product.php`.
2. `single.php` – WordPress then falls back to `single.php`.
3. `index.php` – Finally, as mentioned above, WordPress ultimately falls back to `index.php`.

###Page

The template file used to render a static page (page post-type). Note that unlike other post-types, page is special to WordPress and uses the following patch:

1. custom template file – The page template assigned to the page. See [get_page_templates()](http://developer.wordpress.org/reference/functions/get_page_templates/).
2. `page-{slug}.php` – If the page slug is recent-news, WordPress will look to use `page-recent-news.php`.
3. `page-{id}.php` – If the page ID is 6, WordPress will look to use `page-6.php`.
4. `page.php`
5. `index.php`

###Category

Rendering category archive index pages uses the following path in WordPress:

1. `category-{slug}.php` – If the category’s slug is news, WordPress will look for `category-news.php`.
2. `category-{id}.php` – If the category’s ID is 6, WordPress will look for `category-6.php`.
3. `category.php`
4. `archive.php`
5. `index.php`

###Tag

To display a tag archive index page, WordPress uses the following path:

1. `tag-{slug}.php` – If the tag’s slug is sometag, WordPress will look for `tag-sometag.php`.
2. `tag-{id}.php` – If the tag’s ID is 6, WordPress will look for `tag-6.php`.
3. `tag.php`
4. `archive.php`
5. `index.php`

###Custom Taxonomies

Custom taxonomies use a slightly different template file path:

1. `taxonomy-{taxonomy}-{term}.php` – If the taxonomy is sometax, and taxonomy’s term is someterm, WordPress will look for `taxonomy-sometax-someterm.php`. In the case of post formats, the taxonomy is `post_format` and the terms are `post-format-{format}`. i.e. `taxonomy-post_format-post-format-link.php` for the link post format.
2. `taxonomy-{taxonomy}.php` – If the taxonomy were sometax, WordPress would look for `taxonomy-sometax.php`.
3. `taxonomy.php`
4. `archive.php`
5. `index.php`

###Custom Post Types

Custom Post Types use the following path to render the appropriate archive index page.

1. `archive-{post_type}.php` – If the post type is product, WordPress will look for `archive-product.php`.
2. `archive.php`
3. `index.php`

For rendering a single post type template, refer to the single post display section above.

###Author display

Based on the above examples, rendering author archive index pages is fairly explanatory:

1. `author-{nicename}.php` – If the author’s nice name is matt, WordPress will look for `author-matt.php`.
2. `author-{id}.php` – If the author’s ID were 6, WordPress will look for `author-6.php`.
3. `author.php`
4. `archive.php`
5. `index.php`

###Date

Date-based archive index pages are rendered as you would expect:

1. `date.php`
2. `archive.php`
3. `index.php`

###Search Result

Search results follow the same pattern as other template types:

1. `search.php`
2. `index.php`

###404

Likewise, 404 template files are called in this order:

1. `404.php`
2. `index.php`

###Attachment

Rendering an attachment page (attachment post-type) requires following the follow path:

1. `MIME_type.php` – it can be any MIME type (For example: image.php, video.php, application.php). For text/plain, the following path is used (in order):
    - `text.php`
    - `plain.php`
    - `text_plain.php`
2. `attachment.php`
3. `single-attachment.php`
4. `single.php`
5. `index.php`

###Filter Hierarchy

The WordPress template system lets you filter the hierarchy. This means that you can insert and change things at specific points of the hierarchy. The filter (located in the [get_query_template()](http://developer.wordpress.org/reference/get_query_template) function) uses this filter name: "`{$type}_template`" where `$type` is a file name in the hierarchy without the `.php` extension.

Here is a complete list of all template types in the filter hierarchy:

- index_template
- 404_template
- archive_template
- author_template
- category_template
- tag_template
- taxonomy_template
- date_template
- home_template
- front_page_template
- page_template
- paged_template
- search_template
- single_template
- text_template, plain_template, text_plain_template (all mime types)
- attachment_template
- comments_popup

###Example

For example, let’s take the default author hierarchy:

- `author-{nicename}.php`
- `author-{id}.php`
- `author.php`

To add `author-{role}.php` before `author.php`, we can manipulate the actual hierarchy using the `author_template` template type. This allows a request for `/author/username` where username has the role of editor to display using `author-editor.php` if present in the current themes directory.

```php
<?php
function author_role_template( $templates='' ) {
    $author = get_queried_object();
    $role=$author->roles[0];
    if(!is_array($templates) && !empty($templates)) {
        $templates=locate_template(array('author-$role.php',$templates),false);
    }
    elseif(empty($templates)) {
        $templates=locate_template('author-$role.php',false);
    }
    else {
        $new_template=locate_template(array('author-$role.php'));
        if(!empty($new_template)) array_unshift($templates,$new_template);
    }
    return $templates;
}

add_filter( 'author_template', 'author_role_template' );
?>
```


##Page Templates

Page Templates are a specific type of template file that can be applied to a specific page, or groups of pages.

Since a page template is a specific type of template file, here are some distinguishing features of page templates:

- Page templates only apply to pages.
- Page templates are used to change the look and feel of a page.
- A page template can be applied to a single page, a page section, or a class of pages.
- Page templates generally have a high level of specificity, targeting an individual page or group of pages
- `page-about.php` (a page template) is more specific than the template files `page.php` or `index.php` as it will only affect a page with the slug of `about`
- If a page template has a template name, WordPress users editing the page have control over what template will be used to render the page (see image below).

![select a template](https://developer.wordpress.org/files/2014/10/basics-page-templates-01.jpg)

###Uses for Page Templates

Page templates display your site’s dynamic content on a page, e.g., posts, news updates, calendar events, media files, etc. For example, you may decide that you want your homepage to look a specific way, that is quite different to different parts of your website. You may want to display a featured image that links to a post on one part of the page, have a list of latest posts elsewhere, and a custom navigation. You can use page templates to achieve this.

This section shows you how to build page templates that can be selected by your users through their admin screens.

For example, you can build page templates for:

- full-width, one-column
- two-column with a sidebar on the right
- two-column with a sidebar on the left
- three-column

###Page Templates within the Template Hierarchy

![template hierarchy](https://developer.wordpress.org/files/2014/10/basics-page-templates-02.png)

When a person browses to your website, WordPress selects which template to use for rendering that page. The above image is a detail of the Template Hierarchy, it shows:

- Page Template — If the page has a custom template assigned, WordPress looks for that file and, if found, uses it.
- page-{slug}.php — Or else WordPress looks for and, if found, uses a specialized template named with the page’s slug.
- page-{id}.php — Or else WordPress looks for and, if found, uses a specialized template named with the page’s ID.
- page.php — Or else WordPress looks for and, if found, uses the theme’s default page template.
- index.php — Or else WordPress uses the theme’s index file.

>**Alert**: There is also a WordPress-defined template named `paged.php`. It is not used for the page post-type but rather for displaying multiple pages of archives.

###Page Templates Purpose & User Control

Once you’ve decided to make a custom page template it’s a good idea to decide the following:

- the global or single-use for the page template
- what type of user control you want available for that template

Every page template that has a template name can be selected by a user when they create or edit a page. They can be found at `Pages > Add New > Attributes > Template`. Therefore, a WordPress user can choose any page template with a template name. This might not be appropriate in all situations.

For example, you have a scenario where you have a specific template for your “About” page. It may not be appropriate to give that page template a template name of “About Template” as it would be globally available to all pages (i.e. the user could apply it to any page). Instead, create a single use template and leave it up to WordPress to render the page with that template when a user of the site visits the “About” page.

Likewise, if you want your WordPress users to be able to choose how many columns their pages will have and you’ve created templates for each option, you want those templates to be available globally, you need to give them a template name.

Dictating whether a template is for global use vs. singular use is achieved by the way the file is named and whether or not is has a specific comment.

>**Note**: Sometimes it is appropriate to have a template globally available even if it appears to be a single use case. When you’re creating themes for release, it can be hard to predict what a user will name their pages. Portfolio pages are a great example as not every WordPress user will name their portfolio the same thing or have the same page ID and yet they need to be to use that template.

###File Organization of Page Templates

As discussed in Theme Files Organization WordPress recognizes the subfolder `page-templates`. Therefore, it’s a good idea to store your global page templates in this folder to help keep them organized.

>**Alert**: A specialized page template file (those created for only one time use) cannot be in a sub-folder, nor, if using a [Child Theme](https://codex.wordpress.org/Child_Themes), in its Parent Theme’s folder.

###Tutorial: Creating Custom Page Templates for Global Use

This section will show you how to create a page template that can be used globally by any page, or by multiple pages.  We’ll start by creating a two-column template file.  If you’re following along and building the theme we started in Your First Theme, open `wp-content/themes/my-first-theme` and add a new folder called `page-templates`.

####1. Open page.php and save as two-columns.php in the page-templates folder

Some developers will group their templates with a filename prefix, such as `page_two-columns.php`

>**Alert**: Important! Do not use page- as a prefix, as WordPress will interpret the file as a specialized template, meant to apply to only one page on your site.

For information on theme file-naming conventions and filenames you cannot use, see [reserved theme filenames](http://codex.wordpress.org/Theme_Development#Template_Files_List).

>**Tip**: A quick, safe method for creating a new page template is to make a copy of `page.php` and give the new file a distinct filename. That way, you start off with the HTML structure of your other pages and you can edit the new file as needed.

####2. Write an opening PHP comment that states the template’s name.

Add this opening statement to the very top of the file. It states the template’s name.

```php
<?php /* Template Name: Two Columns Template */ ?>
```

In your own projects, you can replace “Two Columns Template” with any name you like. It’s a good idea to choose a name that describes what the template does as the name is visible to WordPress users when they are editing the page. For example, in your other page templates you could call it Homepage, Blog or Portfolio.

This example from the TwentyTwelve theme creates a page template called Front Page Template:

```php
<?php
/**
* Template Name: Front Page Template
*
* Description: A page template that provides a key component of WordPress as a CMS
* by meeting the need for a carefully crafted introductory page. The front page template
* in Twenty Twelve consists of a page content area for adding text, images, video --
* anything you'd like -- followed by front-page-only widgets in one or two columns.
*
* @package WordPress
* @subpackage Twenty_Twelve
* @since Twenty Twelve 1.0
*/
?>
```

####3. (optional) Add a statement to identify your template file on the front end

Add the following `<p>This is a global page template for two columns </p>` under your `<?php get_header(); ?>` so that when you load a page using the template you can see that it’s working. You’ll remove this at the end of your project.

####4. Add a sidebar to make your template two columns

Right above `<?php get_footer(); ?>` code at the bottom of the file add `<?php get_sidebar()?>`.  When you build your sidebar later on, this template tag will pull in your sidebar and make your page have two columns.  We’ll talk more in depth about these topics later on in this handbook.  Be sure to save your file.

####5. Activate your new template

![basics-page-templates-03](https://developer.wordpress.org/files/2014/10/basics-page-templates-03.png)

Once you upload the file to your theme’s folder (e.g., `page-templates`), go to the dashboard `Page > Edit` screen to assign your new custom page template to your **Blogs Page** on the right hand side under **attributes** you’ll see **template**. Select the **Two Columns Template**. Update the page and you’ll have successfully implemented your first global template.

>**Tip**: The select list has a maximum width of 250px, so longer names may be cut off.

###Tutorial: Creating a Custom Page Template for One Specific Page

To create a template for one specific page, copy your existing `page.php` file and rename it with your page’s slug or ID:

- page-{slug}.php
- page-{ID}.php

For example: Your About page has a slug of `about` and an ID of 6. If your active theme’s folder has a file named `page-about.php` or `page-6.php`, then WordPress will automatically find and use that file to render the About page.

To be used, specialized page templates must be in your active theme’s folder: `/wp-content/themes/my-first-theme/`

####1. Save your page.php file as page-about.php in main folder of your theme

Change the statement you added in the Template Heirarchy tutorial section to This is the `page-about.php` file and save.  Now when you visit your About page on your website WordPress will use this file to render the page. Neat!

###Using Conditional Tags in Page Templates

You can make smaller page-specific changes with [Conditional Tags](http://codex.wordpress.org/Conditional_Tags) in your Theme’s `page.php` file. For instance, this code loads the file `header-home.php` for your front page, but loads another (`header-about.php`) for your About page, and then applies the default `header.php` for all other pages.

###Example

```php
<?php
if ( is_front_page() ) {
    get_header( 'home' );
} elseif { ( is_page( 'About' ) ) {
    get_header( 'about' );
} else {
    get_header();
}
?>
```

###Additional Examples

The following are instructional examples of custom page template files. **Please Note**: Your WordPress theme’s template file structure and HTML structure may be different.

###Archives with Content

This example of a page template displays the page’s content at the top, then a list of archives (by month), then the site categories below that.

Save this to `arc-cont.php`:

```php
<?php
/*
Template Name: Archives with Content
*/
get_header(); ?>
<div id="content" class="widecolumn">
    <?php if (have_posts()) : while (have_posts()) : the_post(); ?>
    <div class="post">
        <h2 id="post-<?php the_ID(); ?>"><?php the_title(); ?></h2>
        <div class="entrytext">
            <?php the_content( 'Read the rest of this page »' ); ?>
        </div>
    </div>
    <?php endwhile; endif; ?>
<?php edit_post_link( 'Edit this entry.', '<p>', '</p>' ); ?>
</div>
<div id="main">
    <?php get_search_form(); ?>
    <h2>Archives by Month:</h2>
    <ul>
        <?php wp_get_archives( 'type=monthly' ); ?>
    </ul>
    <h2>Archives by Subject:</h2>
    <ul>
        <?php wp_list_categories(); ?>
    </ul>
</div>
<?php get_footer(); ?>
```

###A Page of Posts

The following custom page template displays the content of the page, followed by the posts from two specific categories (specified by their category slugs). It is designed to work within a child theme of the Twenty Thirteen theme. If you are using a different theme, you need to replicate the HTML structure of your own theme within this template. Save this to `pageofposts.php` and then assign the *Page of Posts* Template to your new page:

```php
<?php
/*
Template Name: Page Of Posts
*/

/* This example is for a child theme of Twenty Thirteen:
*  You'll need to adapt it the HTML structure of your own theme.
*/
get_header(); ?>
    <div id="primary" class="content-area">
        <div id="content" class="site-content" role="main">
        <?php
        /* The loop: the_post retrieves the content
         * of the new Page you created to list the posts,
         * e.g., an intro describing the posts shown listed on this Page..
         */
        if ( have_posts() ) : while ( have_posts() ) : the_post();

              // Display content of page
              get_template_part( 'content', get_post_format() );
              wp_reset_postdata();
            endwhile;
        endif;
        $paged = (get_query_var('paged')) ? get_query_var('paged') : 1;
        $args = array(
            // Change these category SLUGS to suit your use.
            'category_name' => 'music, videos',
            'paged' => $paged
        );
        $list_of_posts = new WP_Query( $args ); ?>
        <?php if ( $list_of_posts->have_posts() ) : ?>
            <?php /* The loop */ ?>
            <?php while ( $list_of_posts->have_posts() ) : $list_of_posts->the_post(); ?>
                <?php // Display content of posts ?>
                <?php get_template_part( 'content', get_post_format() ); ?>
            <?php endwhile; ?>

            <?php twentythirteen_paging_nav(); ?>
        <?php else : ?>
            <?php get_template_part( 'content', 'none' ); ?>
        <?php endif; ?>
        </div><!-- #content -->
    </div><!-- #primary -->
<?php get_footer(); ?>
```

###Example Using Custom Fields

This page template example displays posts from a specific category depending on a C[ustom Field](http://codex.wordpress.org/Custom_Fields) assigned to a page. The value of the custom field “category” is retrieved and used to retrieve the posts in that category. If the category of posts you want to display is called “events,” then assign the custom field “category” with a value of “events” to the page.

Note that this will adhere to pagination rules, meaning that four (4) posts will display per page with links to older/newer posts provided. Save this to `pageofposts_customfields.php` and then assign the *Page of Posts* with Custom Fields Template when creating the action page:

```php
<?php
/*
Template Name: Page Of Posts with Custom Fields
*/
get_header(); ?>
<div id="content" class="narrowcolumn">
<?php
if ( is_page() ) {
    $category = get_post_meta( $posts[0]->ID, 'category', true );
    $cat = get_cat_ID( $category );
}
if ( $cat ) :
    $paged = ( get_query_var( 'paged' ) ) ? get_query_var( 'paged' ) : 1;
    $post_per_page = 4; // -1 shows all posts
    $do_not_show_stickies = 1; // 0 to show stickies
    $args=array (
      'category__in'        => array( $cat ),
      'orderby'             => 'date',
      'order'               => 'DESC',
      'paged'               => $paged,
      'posts_per_page'      => $post_per_page,
      'ignore_sticky_posts' => $do_not_show_stickies
    );
    $temp = $wp_query; // assign original query to temp variable for later use
    global $wp_query;
    $wp_query = null;
    $wp_query = new WP_Query( $args );
    if ( $wp_query->have_posts() ) :
        while ( $wp_query->have_posts() ) : $wp_query->the_post(); ?>
        <div <?php post_class() ?> id="post-<?php the_ID(); ?>">
            <h2><a href="<?php the_permalink() ?>" rel="bookmark" title="Permanent Link to <?php the_title_attribute(); ?>"><?php the_title(); ?></a></h2>
            <small><?php the_time( 'F jS, Y' ) ?> <!-- by <?php the_author() ?> --></small>
            <div class="entry">
            <?php the_content( 'Read the rest of this entry »' ); ?>
            </div>
            <p class="postmetadata"><?php the_tags( 'Tags: ', ', ', '<br />' ); ?> Posted in <?php the_category( ', ' ) ?> | <?php edit_post_link( 'Edit', '', ' | ' ); ?> <?php comments_popup_link( 'No Comments »', '1 Comment »', '% Comments »' ); ?></p>
        </div>
        <?php endwhile; ?>
    <div class="navigation">
        <div class="alignleft"><?php next_posts_link( '« Older Entries' ) ?></div>
        <div class="alignright"><?php previous_posts_link( 'Newer Entries »' ) ?></div>
    </div>
    <?php endif; // if ( $wp_query->have_posts() ) ?>
    <?php $wp_query = $temp; //reset back to original query ?>
<?php else : ?>
    <h2 class="center">Not Found</h2>
    <p class="center">Sorry, but you are looking for something that isn't here.</p>
    <?php get_search_form(); ?>
<?php endif; // if ( $cat ) ?>
</div><!-- #content -->
<?php get_sidebar(); ?>
<?php get_footer(); ?>
```

###Example Using Custom Post Types

[Custom Post Types](http://codex.wordpress.org/Post_Types) allow WordPress sites to display many different types of content. This example displays posts belonging to a custom post type on a page . In this case, the custom post type is `book`. The page template below can work in any theme or as a child theme template file.

```php
<?php
/**
 * Template Name: Page of Books
 *
 * Print posts of a Custom Post Type.
 */
get_header(); ?>
    <div id="container">
        <div id="content">
        <?php
        $type = 'book';
        $args = array (
         'post_type'          => $type,
         'post_status'        => 'publish',
         'paged'              => $paged,
         'posts_per_page'     => 2,
         'ignore_sticky_posts'=> 1
        );
        $temp = $wp_query; // assign ordinal query to temp variable for later use
        $wp_query = null;
        $wp_query = new WP_Query($args);
        if ( $wp_query->have_posts() ) :
            while ( $wp_query->have_posts() ) : $wp_query->the_post(); ?>
                <h2><?php the_title(); ?></h2>
                <div class="entry-content"><?php the_content(); ?></div>
        <?php  endwhile;
        else : ?>
            <h2>Not Found</h2>
            <?php get_search_form(); ?>
        <?php endif;
        $wp_query = $temp;
        ?>
        </div><!-- #content -->
    </div><!-- #container -->
<?php get_sidebar(); ?>
<?php get_footer(); ?>
```

###Identifying a Page Template

If your template uses the [body_class](http://codex.wordpress.org/Function_Reference/body_class) function, WordPress will print classes in the body tag for the post type class name (`page`), the Page’s ID (`page-id-{ID}`), and the page template used. For the default page.php, the class name is `page-template-default`, e.g.:

```html
<body class="page page-id-6 page-template-default">
```

>**Note**: a specialized template (`page-{slug}.php` or `page-{ID}.php`) also gets the `page-template-default` class rather than its own body class.

When using a custom page template, the class page-template will print, along with a class naming the specific template, e.g.:

In the custom page template file the template name is as follows:

```php
<?php /* Template Name: My Custom Page */ ?>
```

The rendered HTML is as follows:

```html
<body class="page page-id-6 page-template page-template-my-custom-page-php">
```

###Page Template Functions

These built-in WordPress functions and methods can help you work with page templates:

- [get_page_template()](http://codex.wordpress.org/Function_Reference/get_page_template) returns the path of the page template used to render the page.
- [wp_get_theme()->get_page_templates()](http://codex.wordpress.org/Class_Reference/WP_Theme#Get_Custom_Page_Templates) returns all custom page templates available to the currently active theme (`get_page_templates()` is a method of the [WP_Theme](http://codex.wordpress.org/Class_Reference/WP_Theme) class).
- [is_page_template()](http://codex.wordpress.org/Function_Reference/is_page_template) returns true or false depending on whether a custom page template was used to render the page.
- [get_page_template_slug()](http://codex.wordpress.org/Function_Reference/get_page_template_slug) returns the value of custom field `_wp_page_template` (null when value is empty or “default”).

The filename of a page’s assigned custom template is stored as the value of a [custom field](http://codex.wordpress.org/Custom_Fields) named `_wp_page_template` (in the [wp_postmeta](http://codex.wordpress.org/Database_Description#Table:_wp_postmeta) database table). (Custom fields starting with an underscore do not display in the edit screen’s custom fields module.)


#Template Tags